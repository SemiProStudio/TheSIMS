{"version":3,"file":"ThemeSelector-8fyjr44D.js","sources":["../../components/CustomThemeEditor.jsx","../../views/ThemeSelector.jsx"],"sourcesContent":["// ============================================================================\n// Custom Theme Editor - Streamlined color customization\n// ============================================================================\n\nimport React, { memo, useState, useCallback, useEffect, useMemo } from 'react';\nimport { Save, Palette, RotateCcw, ChevronDown, ChevronRight, AlertTriangle, CheckCircle } from 'lucide-react';\nimport { colors, spacing, borderRadius, typography, withOpacity} from '../theme.js';\nimport { BackButton, Button, Card } from './ui.jsx';\nimport { COLOR_CATEGORIES, DEFAULT_CUSTOM_THEME } from '../themes-data.js';\nimport { \n  validateThemeContrast, \n  getContrastSummary, \n  getContrastStatus,\n  announce \n} from '../utils/accessibility.js';\n\n// Simple color picker with hex input and native picker\nconst ColorPicker = memo(function ColorPicker({ color, onChange }) {\n  return (\n    <div style={{ display: 'flex', gap: spacing[2], alignItems: 'center' }}>\n      <div style={{\n        width: 40, height: 40,\n        borderRadius: borderRadius.md,\n        background: color,\n        border: `1px solid ${colors.border}`,\n        flexShrink: 0,\n      }} />\n      <input\n        type=\"text\"\n        value={color}\n        onChange={(e) => /^#[0-9A-Fa-f]{6}$/.test(e.target.value) && onChange(e.target.value)}\n        style={{\n          flex: 1,\n          padding: `${spacing[2]}px ${spacing[3]}px`,\n          background: colors.bgDark,\n          border: `1px solid ${colors.border}`,\n          borderRadius: borderRadius.md,\n          color: colors.textPrimary,\n          fontSize: typography.fontSize.sm,\n          fontFamily: 'monospace',\n        }}\n      />\n      <input\n        type=\"color\"\n        value={color}\n        onChange={(e) => onChange(e.target.value)}\n        style={{\n          width: 40, height: 40,\n          padding: 0,\n          border: `1px solid ${colors.border}`,\n          borderRadius: borderRadius.md,\n          cursor: 'pointer',\n        }}\n      />\n    </div>\n  );\n});\n\n// Collapsible category section\nconst CategorySection = memo(function CategorySection({ \n  categoryKey, category, expanded, onToggle, themeColors, selectedColor, onSelectColor, onColorChange \n}) {\n  return (\n    <div style={{ borderBottom: `1px solid ${colors.border}` }}>\n      <button\n        onClick={() => onToggle(categoryKey)}\n        style={{\n          width: '100%',\n          padding: spacing[3],\n          display: 'flex',\n          alignItems: 'center',\n          gap: spacing[2],\n          background: 'transparent',\n          border: 'none',\n          cursor: 'pointer',\n          color: colors.textPrimary,\n        }}\n      >\n        {expanded ? <ChevronDown size={16} /> : <ChevronRight size={16} />}\n        <span style={{ fontWeight: typography.fontWeight.medium }}>{category.label}</span>\n        <div style={{ marginLeft: 'auto', display: 'flex', gap: 4 }}>\n          {category.colors.slice(0, 5).map(c => (\n            <div key={c.key} style={{\n              width: 12, height: 12,\n              borderRadius: '50%',\n              background: themeColors[c.key] || '#888',\n            }} />\n          ))}\n        </div>\n      </button>\n      {expanded && (\n        <div style={{ padding: `0 ${spacing[3]}px ${spacing[3]}px` }}>\n          {category.colors.map(colorDef => (\n            <div\n              key={colorDef.key}\n              onClick={() => onSelectColor(colorDef.key)}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: spacing[3],\n                padding: spacing[2],\n                marginBottom: spacing[1],\n                borderRadius: borderRadius.md,\n                cursor: 'pointer',\n                background: selectedColor === colorDef.key ? `${withOpacity(colors.primary, 20)}` : 'transparent',\n                border: selectedColor === colorDef.key ? `1px solid ${colors.primary}` : '1px solid transparent',\n              }}\n            >\n              <div style={{\n                width: 24, height: 24,\n                borderRadius: borderRadius.sm,\n                background: themeColors[colorDef.key] || '#888',\n                border: `1px solid ${colors.border}`,\n                flexShrink: 0,\n              }} />\n              <span style={{ flex: 1, fontSize: typography.fontSize.sm, color: colors.textPrimary }}>\n                {colorDef.label}\n              </span>\n              <span style={{\n                fontSize: typography.fontSize.xs,\n                fontFamily: 'monospace',\n                color: colors.textMuted,\n              }}>\n                {themeColors[colorDef.key] || '#888'}\n              </span>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n});\n\n// Live preview panel\nconst LivePreview = memo(function LivePreview({ themeColors }) {\n  return (\n    <Card>\n      <h4 style={{ margin: `0 0 ${spacing[3]}px`, color: colors.textPrimary, fontSize: typography.fontSize.sm }}>\n        Live Preview\n      </h4>\n      <div style={{\n        padding: spacing[4],\n        background: themeColors['--bg-dark'],\n        borderRadius: borderRadius.md,\n        border: `1px solid ${themeColors['--border']}`,\n      }}>\n        {/* Layout preview */}\n        <div style={{ display: 'grid', gridTemplateColumns: '60px 1fr', gap: spacing[2], marginBottom: spacing[3] }}>\n          <div style={{ background: themeColors['--bg-medium'], borderRadius: borderRadius.sm, padding: spacing[2] }}>\n            <div style={{ height: 6, background: themeColors['--primary'], borderRadius: borderRadius.sm, marginBottom: 4 }} />\n            <div style={{ height: 4, background: themeColors['--text-muted'], borderRadius: borderRadius.sm, opacity: 0.5 }} />\n          </div>\n          <div style={{ background: themeColors['--bg-light'], borderRadius: borderRadius.sm, padding: spacing[2] }}>\n            <div style={{ color: themeColors['--text-primary'], fontSize: typography.fontSize.xs, fontWeight: typography.fontWeight.semibold }}>Preview</div>\n            <div style={{ color: themeColors['--text-muted'], fontSize: typography.fontSize.xs }}>Sample text</div>\n          </div>\n        </div>\n        \n        {/* Focus ring preview */}\n        <div style={{ marginBottom: spacing[3] }}>\n          <div style={{ \n            fontSize: typography.fontSize.xs, \n            color: themeColors['--text-muted'], \n            marginBottom: spacing[1] \n          }}>\n            Focus Ring Preview:\n          </div>\n          <div style={{ display: 'flex', gap: spacing[2] }}>\n            <div style={{\n              padding: `${spacing[1]}px ${spacing[2]}px`,\n              background: themeColors['--bg-medium'],\n              borderRadius: borderRadius.sm,\n              fontSize: typography.fontSize.xs,\n              color: themeColors['--text-primary'],\n              outline: `2px solid ${themeColors['--focus-ring-color'] || themeColors['--primary-light']}`,\n              outlineOffset: '2px',\n            }}>Focused</div>\n            <div style={{\n              padding: `${spacing[1]}px ${spacing[2]}px`,\n              background: themeColors['--danger'],\n              borderRadius: borderRadius.sm,\n              fontSize: typography.fontSize.xs,\n              color: '#fff',\n              outline: `2px solid ${themeColors['--focus-ring-color-danger'] || themeColors['--danger']}`,\n              outlineOffset: '2px',\n            }}>Danger</div>\n          </div>\n        </div>\n        \n        {/* Status badges */}\n        <div style={{ display: 'flex', gap: spacing[1], flexWrap: 'wrap', marginBottom: spacing[2] }}>\n          {['--status-available', '--status-checked-out', '--status-reserved', '--status-needs-attention'].map(key => (\n            <div key={key} style={{\n              padding: `2px 6px`,\n              background: themeColors[key],\n              color: '#fff',\n              borderRadius: borderRadius.sm,\n              fontSize: typography.fontSize.xs,\n            }}>\n              {key.split('-').pop()}\n            </div>\n          ))}\n        </div>\n        \n        {/* Buttons */}\n        <div style={{ display: 'flex', gap: spacing[2] }}>\n          <div style={{\n            padding: `${spacing[1]}px ${spacing[2]}px`,\n            background: themeColors['--primary'],\n            color: '#fff',\n            borderRadius: borderRadius.sm,\n            fontSize: typography.fontSize.xs,\n          }}>Primary</div>\n          <div style={{\n            padding: `${spacing[1]}px ${spacing[2]}px`,\n            background: themeColors['--danger'],\n            color: '#fff',\n            borderRadius: borderRadius.sm,\n            fontSize: typography.fontSize.xs,\n          }}>Danger</div>\n          <div style={{\n            padding: `${spacing[1]}px ${spacing[2]}px`,\n            background: themeColors['--success'],\n            color: '#fff',\n            borderRadius: borderRadius.sm,\n            fontSize: typography.fontSize.xs,\n          }}>Success</div>\n        </div>\n      </div>\n    </Card>\n  );\n});\n\n// Contrast checker panel\nconst ContrastChecker = memo(function ContrastChecker({ themeColors }) {\n  const validationResults = useMemo(() => validateThemeContrast(themeColors), [themeColors]);\n  const summary = useMemo(() => getContrastSummary(validationResults), [validationResults]);\n  const [expanded, setExpanded] = useState(false);\n  \n  const statusColor = summary.score >= 80 ? '#22c55e' : summary.score >= 60 ? '#eab308' : '#ef4444';\n  const StatusIcon = summary.score >= 80 ? CheckCircle : AlertTriangle;\n  \n  return (\n    <Card style={{ marginTop: spacing[4] }}>\n      <button\n        onClick={() => setExpanded(!expanded)}\n        style={{\n          width: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          gap: spacing[2],\n          background: 'transparent',\n          border: 'none',\n          cursor: 'pointer',\n          padding: 0,\n          color: colors.textPrimary,\n        }}\n        aria-expanded={expanded}\n      >\n        <StatusIcon size={16} color={statusColor} />\n        <span style={{ fontSize: typography.fontSize.sm, fontWeight: typography.fontWeight.medium, flex: 1, textAlign: 'left' }}>\n          Accessibility Check\n        </span>\n        <span style={{\n          padding: `2px 8px`,\n          borderRadius: borderRadius.full,\n          fontSize: typography.fontSize.xs,\n          background: `${statusColor}20`,\n          color: statusColor,\n          fontWeight: typography.fontWeight.semibold,\n        }}>\n          {summary.score}%\n        </span>\n        {expanded ? <ChevronDown size={14} /> : <ChevronRight size={14} />}\n      </button>\n      \n      {expanded && (\n        <div style={{ marginTop: spacing[3] }}>\n          <div style={{\n            fontSize: typography.fontSize.xs,\n            color: colors.textMuted,\n            marginBottom: spacing[2],\n          }}>\n            WCAG AA contrast requirements: {summary.passing} passing, {summary.failing} failing\n            {summary.skipped > 0 && `, ${summary.skipped} skipped (non-hex colors)`}\n          </div>\n          \n          <div style={{ maxHeight: 200, overflowY: 'auto' }}>\n            {validationResults.filter(r => !r.result.skipped).map((result, idx) => {\n              const status = getContrastStatus(result.result.ratio);\n              return (\n                <div\n                  key={idx}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: spacing[2],\n                    padding: `${spacing[1]}px 0`,\n                    borderBottom: `1px solid ${colors.borderLight}`,\n                  }}\n                >\n                  <div style={{\n                    width: 8,\n                    height: 8,\n                    borderRadius: '50%',\n                    background: status.color,\n                    flexShrink: 0,\n                  }} />\n                  <span style={{\n                    flex: 1,\n                    fontSize: typography.fontSize.xs,\n                    color: colors.textSecondary,\n                  }}>\n                    {result.pair.label}\n                  </span>\n                  <span style={{\n                    fontSize: typography.fontSize.xs,\n                    fontFamily: 'monospace',\n                    color: status.color,\n                  }}>\n                    {result.result.ratio}:1\n                  </span>\n                </div>\n              );\n            })}\n          </div>\n          \n          {summary.score < 80 && (\n            <div style={{\n              marginTop: spacing[3],\n              padding: spacing[2],\n              background: `${statusColor}10`,\n              borderRadius: borderRadius.sm,\n              fontSize: typography.fontSize.xs,\n              color: statusColor,\n            }}>\n              <strong>Tip:</strong> Increase contrast by using lighter text colors or darker backgrounds. \n              WCAG AA requires a minimum contrast ratio of 4.5:1 for normal text.\n            </div>\n          )}\n        </div>\n      )}\n    </Card>\n  );\n});\n\n// Main editor component\nfunction CustomThemeEditor({ onBack, onSave, existingTheme }) {\n  const [themeColors, setThemeColors] = useState(() => {\n    if (existingTheme?.colors) return { ...DEFAULT_CUSTOM_THEME, ...existingTheme.colors };\n    try {\n      const saved = localStorage.getItem('sims-custom-theme');\n      if (saved) return { ...DEFAULT_CUSTOM_THEME, ...JSON.parse(saved) };\n    } catch (e) {}\n    return { ...DEFAULT_CUSTOM_THEME };\n  });\n\n  const [themeName, setThemeName] = useState(() => \n    existingTheme?.name || localStorage.getItem('sims-custom-theme-name') || 'My Custom Theme'\n  );\n  const [selectedColor, setSelectedColor] = useState('--primary');\n  const [expandedCategories, setExpandedCategories] = useState({ primary: true });\n  const [hasChanges, setHasChanges] = useState(false);\n\n  const handleColorChange = useCallback((key, value) => {\n    setThemeColors(prev => ({ ...prev, [key]: value }));\n    setHasChanges(true);\n  }, []);\n\n  const toggleCategory = useCallback((key) => {\n    setExpandedCategories(prev => ({ ...prev, [key]: !prev[key] }));\n  }, []);\n\n  const handleReset = useCallback(() => {\n    setThemeColors({ ...DEFAULT_CUSTOM_THEME });\n    setHasChanges(true);\n    announce('Theme colors reset to defaults');\n  }, []);\n\n  const handleSave = useCallback(() => {\n    localStorage.setItem('sims-custom-theme', JSON.stringify(themeColors));\n    localStorage.setItem('sims-custom-theme-name', themeName);\n    onSave?.({\n      id: 'custom',\n      name: themeName,\n      description: 'User-customized theme',\n      colors: {\n        ...themeColors,\n        '--bg-card-solid': themeColors['--bg-card'],\n        '--danger-bg': themeColors['--danger'] + '20',\n        // Ensure focus ring colors are included\n        '--focus-ring-color': themeColors['--focus-ring-color'] || themeColors['--primary-light'],\n        '--focus-ring-color-danger': themeColors['--focus-ring-color-danger'] || themeColors['--danger'],\n      },\n      isCustom: true,\n    });\n    setHasChanges(false);\n    announce(`Theme \"${themeName}\" saved successfully`);\n  }, [themeColors, themeName, onSave]);\n\n  return (\n    <div style={{ maxWidth: 1000, margin: '0 auto', padding: spacing[4] }}>\n      <BackButton onClick={onBack}>Back to Theme Selector</BackButton>\n\n      {/* Header */}\n      <div style={{ display: 'flex', alignItems: 'center', gap: spacing[3], marginBottom: spacing[4] }}>\n        <div style={{\n          width: 48, height: 48,\n          borderRadius: borderRadius.lg,\n          background: `linear-gradient(135deg, ${themeColors['--primary']}, ${themeColors['--accent1']})`,\n          display: 'flex', alignItems: 'center', justifyContent: 'center',\n        }}>\n          <Palette size={24} color=\"#fff\" />\n        </div>\n        <div>\n          <h2 style={{ margin: 0, color: colors.textPrimary }}>Custom Theme Editor</h2>\n          <p style={{ margin: 0, color: colors.textMuted, fontSize: typography.fontSize.sm }}>\n            Customize colors and see changes in the preview panel\n          </p>\n        </div>\n      </div>\n\n      {/* Theme name */}\n      <Card style={{ marginBottom: spacing[4] }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: spacing[3] }}>\n          <label style={{ color: colors.textSecondary, fontSize: typography.fontSize.sm }}>Theme Name:</label>\n          <input\n            type=\"text\"\n            value={themeName}\n            onChange={(e) => { setThemeName(e.target.value); setHasChanges(true); }}\n            style={{\n              flex: 1, maxWidth: 300,\n              padding: `${spacing[2]}px ${spacing[3]}px`,\n              background: colors.bgDark,\n              border: `1px solid ${colors.border}`,\n              borderRadius: borderRadius.md,\n              color: colors.textPrimary,\n            }}\n          />\n        </div>\n      </Card>\n\n      {/* Main layout */}\n      <div style={{ display: 'grid', gridTemplateColumns: '1fr 320px', gap: spacing[4] }}>\n        {/* Color categories */}\n        <Card style={{ padding: 0, overflow: 'hidden' }}>\n          {Object.entries(COLOR_CATEGORIES).map(([key, category]) => (\n            <CategorySection\n              key={key}\n              categoryKey={key}\n              category={category}\n              expanded={expandedCategories[key]}\n              onToggle={toggleCategory}\n              themeColors={themeColors}\n              selectedColor={selectedColor}\n              onSelectColor={setSelectedColor}\n              onColorChange={handleColorChange}\n            />\n          ))}\n        </Card>\n\n        {/* Right panel */}\n        <div>\n          {/* Color picker for selected */}\n          <Card style={{ marginBottom: spacing[4] }}>\n            <h4 style={{ margin: `0 0 ${spacing[3]}px`, color: colors.textPrimary, fontSize: typography.fontSize.sm }}>\n              Edit: {selectedColor}\n            </h4>\n            <ColorPicker\n              color={themeColors[selectedColor] || '#888888'}\n              onChange={(value) => handleColorChange(selectedColor, value)}\n            />\n          </Card>\n\n          {/* Live preview */}\n          <LivePreview themeColors={themeColors} />\n\n          {/* Accessibility contrast checker */}\n          <ContrastChecker themeColors={themeColors} />\n\n          {/* Actions */}\n          <div style={{ display: 'flex', gap: spacing[2], marginTop: spacing[4], justifyContent: 'space-between' }}>\n            <Button variant=\"secondary\" onClick={handleReset} icon={RotateCcw}>Reset</Button>\n            <Button onClick={handleSave} icon={Save} disabled={!hasChanges}>Save Theme</Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(CustomThemeEditor);\n","// ============================================================================\n// Theme Selector View\n// Full-page theme selection with visual previews\n// ============================================================================\n\nimport React, { memo, useState } from 'react';\nimport { Palette, Check, Shuffle, Settings, Sliders } from 'lucide-react';\nimport { colors, spacing, borderRadius, typography, withOpacity} from '../theme.js';\nimport { useTheme } from '../contexts/ThemeContext.jsx';\nimport { BackButton, Card, Button } from '../components/ui.jsx';\nimport CustomThemeEditor from '../components/CustomThemeEditor.jsx';\n\n// Preview component showing theme colors\nconst ThemePreview = memo(function ThemePreview({ theme, isSelected, onClick, onCustomize }) {\n  const themeColors = theme.colors || {};\n  \n  // Get preview colors (use defaults if random/empty)\n  const bgDark = themeColors['--bg-dark'] || '#1a1d21';\n  const bgMedium = themeColors['--bg-medium'] || '#22262b';\n  const bgLight = themeColors['--bg-light'] || '#2a2f36';\n  const primary = themeColors['--primary'] || '#5d8aa8';\n  const accent1 = themeColors['--accent1'] || '#6b9e9e';\n  const accent2 = themeColors['--accent2'] || '#7a8f7a';\n  const textPrimary = themeColors['--text-primary'] || '#e2e6ea';\n  const success = themeColors['--status-available'] || themeColors['--success'] || '#6b9e78';\n  const warning = themeColors['--status-needs-attention'] || themeColors['--warning'] || '#b58f6b';\n  const danger = themeColors['--status-missing'] || themeColors['--danger'] || '#9e6b6b';\n\n  const isCustom = theme.isCustom;\n  const hasCustomColors = isCustom && Object.keys(themeColors).length > 0;\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      <button\n        onClick={onClick}\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          padding: 0,\n          background: colors.bgMedium,\n          border: isSelected ? `2px solid ${colors.primary}` : `1px solid ${colors.borderLight}`,\n          borderRadius: borderRadius.lg,\n          overflow: 'hidden',\n          cursor: 'pointer',\n          transition: 'all 150ms ease',\n          boxShadow: isSelected ? `0 0 0 3px ${withOpacity(colors.primary, 30)}` : 'none',\n        }}\n      >\n        {/* Color Preview Area */}\n        <div style={{\n          width: '100%',\n          height: 80,\n          position: 'relative',\n          background: theme.isRandom \n            ? 'linear-gradient(135deg, #ff006e, #00f5d4, #fee440, #9b5de5)' \n            : isCustom && !hasCustomColors\n              ? 'linear-gradient(135deg, #667eea, #764ba2, #f093fb)'\n              : bgDark,\n        }}>\n          {theme.isRandom ? (\n            // Random theme shows gradient with shuffle icon\n            <div style={{\n              position: 'absolute',\n              inset: 0,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}>\n              <Shuffle size={32} color=\"white\" style={{ filter: 'drop-shadow(0 2px 4px rgba(0,0,0,0.3))' }} />\n            </div>\n          ) : isCustom && !hasCustomColors ? (\n            // Custom theme without colors shows settings icon\n            <div style={{\n              position: 'absolute',\n              inset: 0,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}>\n              <Sliders size={32} color=\"white\" style={{ filter: 'drop-shadow(0 2px 4px rgba(0,0,0,0.3))' }} />\n            </div>\n          ) : (\n          // Regular theme shows color blocks\n          <>\n            {/* Background layers */}\n            <div style={{\n              position: 'absolute',\n              top: 8,\n              left: 8,\n              right: '50%',\n              bottom: 40,\n              background: bgMedium,\n              borderRadius: borderRadius.sm,\n            }} />\n            <div style={{\n              position: 'absolute',\n              top: 8,\n              left: '52%',\n              right: 8,\n              bottom: 40,\n              background: bgLight,\n              borderRadius: borderRadius.sm,\n            }} />\n            \n            {/* Primary color bar */}\n            <div style={{\n              position: 'absolute',\n              bottom: 24,\n              left: 8,\n              right: 8,\n              height: 12,\n              background: primary,\n              borderRadius: borderRadius.sm,\n            }} />\n            \n            {/* Accent color dots */}\n            <div style={{\n              position: 'absolute',\n              bottom: 8,\n              left: 8,\n              display: 'flex',\n              gap: 4,\n            }}>\n              <div style={{ width: 12, height: 12, borderRadius: '50%', background: accent1 }} />\n              <div style={{ width: 12, height: 12, borderRadius: '50%', background: accent2 }} />\n              <div style={{ width: 12, height: 12, borderRadius: '50%', background: success }} />\n              <div style={{ width: 12, height: 12, borderRadius: '50%', background: warning }} />\n              <div style={{ width: 12, height: 12, borderRadius: '50%', background: danger }} />\n            </div>\n            \n            {/* Text preview lines */}\n            <div style={{\n              position: 'absolute',\n              bottom: 8,\n              right: 8,\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 2,\n              alignItems: 'flex-end',\n            }}>\n              <div style={{ width: 40, height: 4, background: textPrimary, borderRadius: 2, opacity: 0.9 }} />\n              <div style={{ width: 28, height: 3, background: textPrimary, borderRadius: 2, opacity: 0.5 }} />\n            </div>\n          </>\n        )}\n        \n        {/* Selected checkmark */}\n        {isSelected && (\n          <div style={{\n            position: 'absolute',\n            top: 8,\n            right: 8,\n            width: 24,\n            height: 24,\n            borderRadius: '50%',\n            background: colors.primary,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          }}>\n            <Check size={14} color=\"white\" />\n          </div>\n        )}\n      </div>\n      \n      {/* Theme Info */}\n      <div style={{\n        padding: spacing[3],\n        textAlign: 'left',\n        borderTop: `1px solid ${colors.borderLight}`,\n      }}>\n        <div style={{\n          fontSize: typography.fontSize.sm,\n          fontWeight: typography.fontWeight.medium,\n          color: colors.textPrimary,\n          marginBottom: 2,\n        }}>\n          {theme.name}\n        </div>\n        <div style={{\n          fontSize: typography.fontSize.xs,\n          color: colors.textMuted,\n          lineHeight: 1.3,\n        }}>\n          {theme.description}\n        </div>\n      </div>\n    </button>\n    \n    {/* Customize button for custom theme */}\n    {isCustom && (\n      <button\n        onClick={(e) => { e.stopPropagation(); onCustomize?.(); }}\n        style={{\n          marginTop: spacing[2],\n          padding: `${spacing[2]}px ${spacing[3]}px`,\n          background: colors.bgLight,\n          border: `1px solid ${colors.border}`,\n          borderRadius: borderRadius.md,\n          color: colors.textPrimary,\n          fontSize: typography.fontSize.sm,\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          gap: spacing[2],\n        }}\n      >\n        <Settings size={14} />\n        Customize Colors\n      </button>\n    )}\n  </div>\n  );\n});\n\nfunction ThemeSelector({ onBack }) {\n  const { themeId, setTheme, updateCustomTheme, availableThemes } = useTheme();\n  const [showCustomEditor, setShowCustomEditor] = useState(false);\n\n  // Handle saving custom theme\n  const handleSaveCustomTheme = (customThemeData) => {\n    updateCustomTheme(customThemeData);\n    setTheme('custom');\n    setShowCustomEditor(false);\n  };\n\n  // Show custom theme editor\n  if (showCustomEditor) {\n    return (\n      <CustomThemeEditor\n        onBack={() => setShowCustomEditor(false)}\n        onSave={handleSaveCustomTheme}\n        existingTheme={availableThemes.find(t => t.id === 'custom')}\n      />\n    );\n  }\n\n  return (\n    <>\n      <BackButton onClick={onBack}>Back to Dashboard</BackButton>\n      \n      {/* Header */}\n      <div style={{\n        display: 'flex',\n        alignItems: 'flex-start',\n        gap: spacing[3],\n        marginBottom: spacing[6],\n      }}>\n        <div style={{\n          width: 48,\n          height: 48,\n          borderRadius: borderRadius.lg,\n          background: `${withOpacity(colors.primary, 15)}`,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          flexShrink: 0,\n        }}>\n          <Palette size={24} color={colors.primary} />\n        </div>\n        <div>\n          <h2 style={{ margin: 0, color: colors.textPrimary }}>\n            Theme Selector\n          </h2>\n          <p style={{ margin: `${spacing[1]}px 0 0`, color: colors.textMuted, fontSize: typography.fontSize.sm }}>\n            Choose a visual theme for the application. Your selection is saved automatically.\n          </p>\n        </div>\n      </div>\n\n      {/* Theme Grid */}\n      <div style={{\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\n        gap: spacing[4],\n      }}>\n        {availableThemes.map(theme => (\n          <ThemePreview\n            key={theme.id}\n            theme={theme}\n            isSelected={themeId === theme.id}\n            onClick={() => setTheme(theme.id)}\n            onCustomize={theme.isCustom ? () => setShowCustomEditor(true) : undefined}\n          />\n        ))}\n      </div>\n\n      {/* Current Theme Info */}\n      <Card style={{ marginTop: spacing[6], maxWidth: 500 }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: spacing[3] }}>\n          <div style={{\n            width: 40,\n            height: 40,\n            borderRadius: borderRadius.md,\n            background: colors.primary,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          }}>\n            <Check size={20} color=\"white\" />\n          </div>\n          <div>\n            <div style={{ \n              fontSize: typography.fontSize.sm, \n              fontWeight: typography.fontWeight.medium,\n              color: colors.textPrimary \n            }}>\n              Current Theme: {availableThemes.find(t => t.id === themeId)?.name || 'Unknown'}\n            </div>\n            <div style={{ fontSize: typography.fontSize.xs, color: colors.textMuted }}>\n              {availableThemes.find(t => t.id === themeId)?.description || ''}\n            </div>\n          </div>\n        </div>\n      </Card>\n    </>\n  );\n}\n\nexport default memo(ThemeSelector);\n"],"names":["ColorPicker","memo","color","onChange","jsxs","spacing","jsx","borderRadius","colors","e","typography","CategorySection","categoryKey","category","expanded","onToggle","themeColors","selectedColor","onSelectColor","onColorChange","ChevronDown","ChevronRight","c","colorDef","withOpacity","LivePreview","Card","key","ContrastChecker","validationResults","useMemo","validateThemeContrast","summary","getContrastSummary","setExpanded","useState","statusColor","StatusIcon","CheckCircle","AlertTriangle","r","result","idx","status","getContrastStatus","CustomThemeEditor","onBack","onSave","existingTheme","setThemeColors","DEFAULT_CUSTOM_THEME","saved","themeName","setThemeName","setSelectedColor","expandedCategories","setExpandedCategories","hasChanges","setHasChanges","handleColorChange","useCallback","value","prev","toggleCategory","handleReset","announce","handleSave","BackButton","Palette","COLOR_CATEGORIES","Button","RotateCcw","Save","CustomThemeEditor$1","ThemePreview","theme","isSelected","onClick","onCustomize","bgDark","bgMedium","bgLight","primary","accent1","accent2","textPrimary","success","warning","danger","isCustom","hasCustomColors","Shuffle","Sliders","Fragment","Check","Settings","ThemeSelector","themeId","setTheme","updateCustomTheme","availableThemes","useTheme","showCustomEditor","setShowCustomEditor","handleSaveCustomTheme","customThemeData","t","ThemeSelector_default"],"mappings":"iTAiBA,MAAMA,EAAcC,EAAAA,KAAK,SAAqB,CAAE,MAAAC,EAAO,SAAAC,GAAY,CACjE,OACEC,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAKC,EAAQ,CAAC,EAAG,WAAY,QAAA,EAC1D,SAAA,CAAAC,MAAC,OAAI,MAAO,CACV,MAAO,GAAI,OAAQ,GACnB,aAAcC,EAAa,GAC3B,WAAYL,EACZ,OAAQ,aAAaM,EAAO,MAAM,GAClC,WAAY,CAAA,EACX,EACHF,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOJ,EACP,SAAWO,GAAM,oBAAoB,KAAKA,EAAE,OAAO,KAAK,GAAKN,EAASM,EAAE,OAAO,KAAK,EACpF,MAAO,CACL,KAAM,EACN,QAAS,GAAGJ,EAAQ,CAAC,CAAC,MAAMA,EAAQ,CAAC,CAAC,KACtC,WAAYG,EAAO,OACnB,OAAQ,aAAaA,EAAO,MAAM,GAClC,aAAcD,EAAa,GAC3B,MAAOC,EAAO,YACd,SAAUE,EAAW,SAAS,GAC9B,WAAY,WAAA,CACd,CAAA,EAEFJ,EAAAA,IAAC,QAAA,CACC,KAAK,QACL,MAAOJ,EACP,SAAWO,GAAMN,EAASM,EAAE,OAAO,KAAK,EACxC,MAAO,CACL,MAAO,GAAI,OAAQ,GACnB,QAAS,EACT,OAAQ,aAAaD,EAAO,MAAM,GAClC,aAAcD,EAAa,GAC3B,OAAQ,SAAA,CACV,CAAA,CACF,EACF,CAEJ,CAAC,EAGKI,EAAkBV,EAAAA,KAAK,SAAyB,CACpD,YAAAW,EAAa,SAAAC,EAAU,SAAAC,EAAU,SAAAC,EAAU,YAAAC,EAAa,cAAAC,EAAe,cAAAC,EAAe,cAAAC,CACxF,EAAG,CACD,OACEf,OAAC,OAAI,MAAO,CAAE,aAAc,aAAaI,EAAO,MAAM,EAAA,EACpD,SAAA,CAAAJ,EAAAA,KAAC,SAAA,CACC,QAAS,IAAMW,EAASH,CAAW,EACnC,MAAO,CACL,MAAO,OACP,QAASP,EAAQ,CAAC,EAClB,QAAS,OACT,WAAY,SACZ,IAAKA,EAAQ,CAAC,EACd,WAAY,cACZ,OAAQ,OACR,OAAQ,UACR,MAAOG,EAAO,WAAA,EAGf,SAAA,CAAAM,EAAWR,EAAAA,IAACc,GAAY,KAAM,EAAA,CAAI,EAAKd,EAAAA,IAACe,EAAA,CAAa,KAAM,EAAA,CAAI,EAChEf,EAAAA,IAAC,OAAA,CAAK,MAAO,CAAE,WAAYI,EAAW,WAAW,MAAA,EAAW,SAAAG,EAAS,KAAA,CAAM,EAC3EP,EAAAA,IAAC,OAAI,MAAO,CAAE,WAAY,OAAQ,QAAS,OAAQ,IAAK,GACrD,SAAAO,EAAS,OAAO,MAAM,EAAG,CAAC,EAAE,IAAIS,GAC/BhB,EAAAA,IAAC,MAAA,CAAgB,MAAO,CACtB,MAAO,GAAI,OAAQ,GACnB,aAAc,MACd,WAAYU,EAAYM,EAAE,GAAG,GAAK,MAAA,GAH1BA,EAAE,GAIT,CACJ,CAAA,CACH,CAAA,CAAA,CAAA,EAEDR,GACCR,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,QAAS,KAAKD,EAAQ,CAAC,CAAC,MAAMA,EAAQ,CAAC,CAAC,MACnD,SAAAQ,EAAS,OAAO,IAAIU,GACnBnB,EAAAA,KAAC,MAAA,CAEC,QAAS,IAAMc,EAAcK,EAAS,GAAG,EACzC,MAAO,CACL,QAAS,OACT,WAAY,SACZ,IAAKlB,EAAQ,CAAC,EACd,QAASA,EAAQ,CAAC,EAClB,aAAcA,EAAQ,CAAC,EACvB,aAAcE,EAAa,GAC3B,OAAQ,UACR,WAAYU,IAAkBM,EAAS,IAAM,GAAGC,EAAYhB,EAAO,QAAS,EAAE,CAAC,GAAK,cACpF,OAAQS,IAAkBM,EAAS,IAAM,aAAaf,EAAO,OAAO,GAAK,uBAAA,EAG3E,SAAA,CAAAF,MAAC,OAAI,MAAO,CACV,MAAO,GAAI,OAAQ,GACnB,aAAcC,EAAa,GAC3B,WAAYS,EAAYO,EAAS,GAAG,GAAK,OACzC,OAAQ,aAAaf,EAAO,MAAM,GAClC,WAAY,CAAA,EACX,EACHF,EAAAA,IAAC,OAAA,CAAK,MAAO,CAAE,KAAM,EAAG,SAAUI,EAAW,SAAS,GAAI,MAAOF,EAAO,WAAA,EACrE,WAAS,MACZ,EACAF,MAAC,QAAK,MAAO,CACX,SAAUI,EAAW,SAAS,GAC9B,WAAY,YACZ,MAAOF,EAAO,SAAA,EAEb,SAAAQ,EAAYO,EAAS,GAAG,GAAK,MAAA,CAChC,CAAA,CAAA,EA9BKA,EAAS,GAAA,CAgCjB,CAAA,CACH,CAAA,EAEJ,CAEJ,CAAC,EAGKE,EAAcxB,EAAAA,KAAK,SAAqB,CAAE,YAAAe,GAAe,CAC7D,cACGU,EAAA,CACC,SAAA,CAAApB,MAAC,MAAG,MAAO,CAAE,OAAQ,OAAOD,EAAQ,CAAC,CAAC,KAAM,MAAOG,EAAO,YAAa,SAAUE,EAAW,SAAS,EAAA,EAAM,SAAA,eAE3G,EACAN,OAAC,OAAI,MAAO,CACV,QAASC,EAAQ,CAAC,EAClB,WAAYW,EAAY,WAAW,EACnC,aAAcT,EAAa,GAC3B,OAAQ,aAAaS,EAAY,UAAU,CAAC,EAAA,EAG5C,SAAA,CAAAZ,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,oBAAqB,WAAY,IAAKC,EAAQ,CAAC,EAAG,aAAcA,EAAQ,CAAC,GACtG,SAAA,CAAAD,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,WAAYY,EAAY,aAAa,EAAG,aAAcT,EAAa,GAAI,QAASF,EAAQ,CAAC,GACrG,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,OAAQ,EAAG,WAAYU,EAAY,WAAW,EAAG,aAAcT,EAAa,GAAI,aAAc,GAAK,EACjHD,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,OAAQ,EAAG,WAAYU,EAAY,cAAc,EAAG,aAAcT,EAAa,GAAI,QAAS,GAAI,CAAG,CAAA,EACnH,EACAH,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,WAAYY,EAAY,YAAY,EAAG,aAAcT,EAAa,GAAI,QAASF,EAAQ,CAAC,GACpG,SAAA,CAAAC,MAAC,OAAI,MAAO,CAAE,MAAOU,EAAY,gBAAgB,EAAG,SAAUN,EAAW,SAAS,GAAI,WAAYA,EAAW,WAAW,UAAY,SAAA,UAAO,EAC3IJ,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,MAAOU,EAAY,cAAc,EAAG,SAAUN,EAAW,SAAS,EAAA,EAAM,SAAA,aAAA,CAAW,CAAA,CAAA,CACnG,CAAA,EACF,EAGAN,OAAC,OAAI,MAAO,CAAE,aAAcC,EAAQ,CAAC,GACnC,SAAA,CAAAC,MAAC,OAAI,MAAO,CACV,SAAUI,EAAW,SAAS,GAC9B,MAAOM,EAAY,cAAc,EACjC,aAAcX,EAAQ,CAAC,CAAA,EACtB,SAAA,sBAEH,EACAD,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAKC,EAAQ,CAAC,CAAA,EAC3C,SAAA,CAAAC,MAAC,OAAI,MAAO,CACV,QAAS,GAAGD,EAAQ,CAAC,CAAC,MAAMA,EAAQ,CAAC,CAAC,KACtC,WAAYW,EAAY,aAAa,EACrC,aAAcT,EAAa,GAC3B,SAAUG,EAAW,SAAS,GAC9B,MAAOM,EAAY,gBAAgB,EACnC,QAAS,aAAaA,EAAY,oBAAoB,GAAKA,EAAY,iBAAiB,CAAC,GACzF,cAAe,KAAA,EACd,SAAA,UAAO,EACVV,MAAC,OAAI,MAAO,CACV,QAAS,GAAGD,EAAQ,CAAC,CAAC,MAAMA,EAAQ,CAAC,CAAC,KACtC,WAAYW,EAAY,UAAU,EAClC,aAAcT,EAAa,GAC3B,SAAUG,EAAW,SAAS,GAC9B,MAAO,OACP,QAAS,aAAaM,EAAY,2BAA2B,GAAKA,EAAY,UAAU,CAAC,GACzF,cAAe,KAAA,EACd,SAAA,QAAA,CAAM,CAAA,CAAA,CACX,CAAA,EACF,EAGAV,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAKD,EAAQ,CAAC,EAAG,SAAU,OAAQ,aAAcA,EAAQ,CAAC,CAAA,EACtF,SAAA,CAAC,qBAAsB,uBAAwB,oBAAqB,0BAA0B,EAAE,IAAIsB,GACnGrB,EAAAA,IAAC,MAAA,CAAc,MAAO,CACpB,QAAS,UACT,WAAYU,EAAYW,CAAG,EAC3B,MAAO,OACP,aAAcpB,EAAa,GAC3B,SAAUG,EAAW,SAAS,EAAA,EAE7B,WAAI,MAAM,GAAG,EAAE,KAAI,EAPZiB,CAQV,CACD,EACH,EAGAvB,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAKC,EAAQ,CAAC,CAAA,EAC3C,SAAA,CAAAC,MAAC,OAAI,MAAO,CACV,QAAS,GAAGD,EAAQ,CAAC,CAAC,MAAMA,EAAQ,CAAC,CAAC,KACtC,WAAYW,EAAY,WAAW,EACnC,MAAO,OACP,aAAcT,EAAa,GAC3B,SAAUG,EAAW,SAAS,EAAA,EAC7B,SAAA,UAAO,EACVJ,MAAC,OAAI,MAAO,CACV,QAAS,GAAGD,EAAQ,CAAC,CAAC,MAAMA,EAAQ,CAAC,CAAC,KACtC,WAAYW,EAAY,UAAU,EAClC,MAAO,OACP,aAAcT,EAAa,GAC3B,SAAUG,EAAW,SAAS,EAAA,EAC7B,SAAA,SAAM,EACTJ,MAAC,OAAI,MAAO,CACV,QAAS,GAAGD,EAAQ,CAAC,CAAC,MAAMA,EAAQ,CAAC,CAAC,KACtC,WAAYW,EAAY,WAAW,EACnC,MAAO,OACP,aAAcT,EAAa,GAC3B,SAAUG,EAAW,SAAS,EAAA,EAC7B,SAAA,SAAA,CAAO,CAAA,CAAA,CACZ,CAAA,CAAA,CACF,CAAA,EACF,CAEJ,CAAC,EAGKkB,EAAkB3B,EAAAA,KAAK,SAAyB,CAAE,YAAAe,GAAe,CACrE,MAAMa,EAAoBC,EAAAA,QAAQ,IAAMC,EAAsBf,CAAW,EAAG,CAACA,CAAW,CAAC,EACnFgB,EAAUF,EAAAA,QAAQ,IAAMG,EAAmBJ,CAAiB,EAAG,CAACA,CAAiB,CAAC,EAClF,CAACf,EAAUoB,CAAW,EAAIC,EAAAA,SAAS,EAAK,EAExCC,EAAcJ,EAAQ,OAAS,GAAK,UAAYA,EAAQ,OAAS,GAAK,UAAY,UAClFK,EAAaL,EAAQ,OAAS,GAAKM,EAAcC,EAEvD,OACEnC,EAAAA,KAACsB,GAAK,MAAO,CAAE,UAAWrB,EAAQ,CAAC,GACjC,SAAA,CAAAD,EAAAA,KAAC,SAAA,CACC,QAAS,IAAM8B,EAAY,CAACpB,CAAQ,EACpC,MAAO,CACL,MAAO,OACP,QAAS,OACT,WAAY,SACZ,IAAKT,EAAQ,CAAC,EACd,WAAY,cACZ,OAAQ,OACR,OAAQ,UACR,QAAS,EACT,MAAOG,EAAO,WAAA,EAEhB,gBAAeM,EAEf,SAAA,CAAAR,EAAAA,IAAC+B,EAAA,CAAW,KAAM,GAAI,MAAOD,EAAa,QACzC,OAAA,CAAK,MAAO,CAAE,SAAU1B,EAAW,SAAS,GAAI,WAAYA,EAAW,WAAW,OAAQ,KAAM,EAAG,UAAW,MAAA,EAAU,SAAA,sBAEzH,EACAN,OAAC,QAAK,MAAO,CACX,QAAS,UACT,aAAcG,EAAa,KAC3B,SAAUG,EAAW,SAAS,GAC9B,WAAY,GAAG0B,CAAW,KAC1B,MAAOA,EACP,WAAY1B,EAAW,WAAW,QAAA,EAEjC,SAAA,CAAAsB,EAAQ,MAAM,GAAA,EACjB,EACClB,QAAYM,EAAA,CAAY,KAAM,GAAI,EAAKd,MAACe,EAAA,CAAa,KAAM,EAAA,CAAI,CAAA,CAAA,CAAA,EAGjEP,UACE,MAAA,CAAI,MAAO,CAAE,UAAWT,EAAQ,CAAC,CAAA,EAChC,SAAA,CAAAD,OAAC,OAAI,MAAO,CACV,SAAUM,EAAW,SAAS,GAC9B,MAAOF,EAAO,UACd,aAAcH,EAAQ,CAAC,CAAA,EACtB,SAAA,CAAA,kCAC+B2B,EAAQ,QAAQ,aAAWA,EAAQ,QAAQ,WAC1EA,EAAQ,QAAU,GAAK,KAAKA,EAAQ,OAAO,2BAAA,EAC9C,EAEA1B,MAAC,OAAI,MAAO,CAAE,UAAW,IAAK,UAAW,QACtC,SAAAuB,EAAkB,OAAOW,GAAK,CAACA,EAAE,OAAO,OAAO,EAAE,IAAI,CAACC,EAAQC,IAAQ,CACrE,MAAMC,EAASC,EAAkBH,EAAO,OAAO,KAAK,EACpD,OACErC,EAAAA,KAAC,MAAA,CAEC,MAAO,CACL,QAAS,OACT,WAAY,SACZ,IAAKC,EAAQ,CAAC,EACd,QAAS,GAAGA,EAAQ,CAAC,CAAC,OACtB,aAAc,aAAaG,EAAO,WAAW,EAAA,EAG/C,SAAA,CAAAF,MAAC,OAAI,MAAO,CACV,MAAO,EACP,OAAQ,EACR,aAAc,MACd,WAAYqC,EAAO,MACnB,WAAY,CAAA,EACX,EACHrC,MAAC,QAAK,MAAO,CACX,KAAM,EACN,SAAUI,EAAW,SAAS,GAC9B,MAAOF,EAAO,aAAA,EAEb,SAAAiC,EAAO,KAAK,KAAA,CACf,EACArC,OAAC,QAAK,MAAO,CACX,SAAUM,EAAW,SAAS,GAC9B,WAAY,YACZ,MAAOiC,EAAO,KAAA,EAEb,SAAA,CAAAF,EAAO,OAAO,MAAM,IAAA,CAAA,CACvB,CAAA,CAAA,EA7BKC,CAAA,CAgCX,CAAC,CAAA,CACH,EAECV,EAAQ,MAAQ,IACf5B,EAAAA,KAAC,OAAI,MAAO,CACV,UAAWC,EAAQ,CAAC,EACpB,QAASA,EAAQ,CAAC,EAClB,WAAY,GAAG+B,CAAW,KAC1B,aAAc7B,EAAa,GAC3B,SAAUG,EAAW,SAAS,GAC9B,MAAO0B,CAAA,EAEP,SAAA,CAAA9B,EAAAA,IAAC,UAAO,SAAA,MAAA,CAAI,EAAS,4IAAA,CAAA,CAEvB,CAAA,CAAA,CAEJ,CAAA,EAEJ,CAEJ,CAAC,EAGD,SAASuC,EAAkB,CAAE,OAAAC,EAAQ,OAAAC,EAAQ,cAAAC,GAAiB,CAC5D,KAAM,CAAChC,EAAaiC,CAAc,EAAId,EAAAA,SAAS,IAAM,CACnD,GAAIa,GAAe,OAAQ,MAAO,CAAE,GAAGE,EAAsB,GAAGF,EAAc,MAAA,EAC9E,GAAI,CACF,MAAMG,EAAQ,aAAa,QAAQ,mBAAmB,EACtD,GAAIA,QAAc,CAAE,GAAGD,EAAsB,GAAG,KAAK,MAAMC,CAAK,CAAA,CAClE,MAAY,CAAC,CACb,MAAO,CAAE,GAAGD,CAAA,CACd,CAAC,EAEK,CAACE,EAAWC,CAAY,EAAIlB,EAAAA,SAAS,IACzCa,GAAe,MAAQ,aAAa,QAAQ,wBAAwB,GAAK,iBAAA,EAErE,CAAC/B,EAAeqC,CAAgB,EAAInB,EAAAA,SAAS,WAAW,EACxD,CAACoB,EAAoBC,CAAqB,EAAIrB,EAAAA,SAAS,CAAE,QAAS,GAAM,EACxE,CAACsB,EAAYC,CAAa,EAAIvB,EAAAA,SAAS,EAAK,EAE5CwB,EAAoBC,EAAAA,YAAY,CAACjC,EAAKkC,IAAU,CACpDZ,EAAea,IAAS,CAAE,GAAGA,EAAM,CAACnC,CAAG,EAAGkC,GAAQ,EAClDH,EAAc,EAAI,CACpB,EAAG,CAAA,CAAE,EAECK,EAAiBH,cAAajC,GAAQ,CAC1C6B,EAAsBM,IAAS,CAAE,GAAGA,EAAM,CAACnC,CAAG,EAAG,CAACmC,EAAKnC,CAAG,CAAA,EAAI,CAChE,EAAG,CAAA,CAAE,EAECqC,EAAcJ,EAAAA,YAAY,IAAM,CACpCX,EAAe,CAAE,GAAGC,EAAsB,EAC1CQ,EAAc,EAAI,EAClBO,EAAS,gCAAgC,CAC3C,EAAG,CAAA,CAAE,EAECC,EAAaN,EAAAA,YAAY,IAAM,CACnC,aAAa,QAAQ,oBAAqB,KAAK,UAAU5C,CAAW,CAAC,EACrE,aAAa,QAAQ,yBAA0BoC,CAAS,EACxDL,IAAS,CACP,GAAI,SACJ,KAAMK,EACN,YAAa,wBACb,OAAQ,CACN,GAAGpC,EACH,kBAAmBA,EAAY,WAAW,EAC1C,cAAeA,EAAY,UAAU,EAAI,KAEzC,qBAAsBA,EAAY,oBAAoB,GAAKA,EAAY,iBAAiB,EACxF,4BAA6BA,EAAY,2BAA2B,GAAKA,EAAY,UAAU,CAAA,EAEjG,SAAU,EAAA,CACX,EACD0C,EAAc,EAAK,EACnBO,EAAS,UAAUb,CAAS,sBAAsB,CACpD,EAAG,CAACpC,EAAaoC,EAAWL,CAAM,CAAC,EAEnC,OACE3C,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,SAAU,IAAM,OAAQ,SAAU,QAASC,EAAQ,CAAC,CAAA,EAChE,SAAA,CAAAC,EAAAA,IAAC6D,EAAA,CAAW,QAASrB,EAAQ,SAAA,yBAAsB,SAGlD,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAKzC,EAAQ,CAAC,EAAG,aAAcA,EAAQ,CAAC,GAC3F,SAAA,CAAAC,MAAC,OAAI,MAAO,CACV,MAAO,GAAI,OAAQ,GACnB,aAAcC,EAAa,GAC3B,WAAY,2BAA2BS,EAAY,WAAW,CAAC,KAAKA,EAAY,WAAW,CAAC,IAC5F,QAAS,OAAQ,WAAY,SAAU,eAAgB,QAAA,EAEvD,SAAAV,MAAC8D,EAAA,CAAQ,KAAM,GAAI,MAAM,OAAO,EAClC,SACC,MAAA,CACC,SAAA,CAAA9D,EAAAA,IAAC,KAAA,CAAG,MAAO,CAAE,OAAQ,EAAG,MAAOE,EAAO,WAAA,EAAe,SAAA,qBAAA,CAAmB,EACxEF,EAAAA,IAAC,IAAA,CAAE,MAAO,CAAE,OAAQ,EAAG,MAAOE,EAAO,UAAW,SAAUE,EAAW,SAAS,EAAA,EAAM,SAAA,uDAAA,CAEpF,CAAA,CAAA,CACF,CAAA,EACF,EAGAJ,MAACoB,GAAK,MAAO,CAAE,aAAcrB,EAAQ,CAAC,GACpC,SAAAD,OAAC,OAAI,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAKC,EAAQ,CAAC,CAAA,EACjE,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,MAAO,CAAE,MAAOE,EAAO,cAAe,SAAUE,EAAW,SAAS,EAAA,EAAM,SAAA,aAAA,CAAW,EAC5FJ,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAO8C,EACP,SAAW3C,GAAM,CAAE4C,EAAa5C,EAAE,OAAO,KAAK,EAAGiD,EAAc,EAAI,CAAG,EACtE,MAAO,CACL,KAAM,EAAG,SAAU,IACnB,QAAS,GAAGrD,EAAQ,CAAC,CAAC,MAAMA,EAAQ,CAAC,CAAC,KACtC,WAAYG,EAAO,OACnB,OAAQ,aAAaA,EAAO,MAAM,GAClC,aAAcD,EAAa,GAC3B,MAAOC,EAAO,WAAA,CAChB,CAAA,CACF,CAAA,CACF,CAAA,CACF,EAGAJ,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,oBAAqB,YAAa,IAAKC,EAAQ,CAAC,CAAA,EAE7E,SAAA,CAAAC,EAAAA,IAACoB,GAAK,MAAO,CAAE,QAAS,EAAG,SAAU,QAAA,EAClC,SAAA,OAAO,QAAQ2C,CAAgB,EAAE,IAAI,CAAC,CAAC1C,EAAKd,CAAQ,IACnDP,EAAAA,IAACK,EAAA,CAEC,YAAagB,EACb,SAAAd,EACA,SAAU0C,EAAmB5B,CAAG,EAChC,SAAUoC,EACV,YAAA/C,EACA,cAAAC,EACA,cAAeqC,EACf,cAAeK,CAAA,EARVhC,CAAA,CAUR,EACH,SAGC,MAAA,CAEC,SAAA,CAAAvB,OAACsB,GAAK,MAAO,CAAE,aAAcrB,EAAQ,CAAC,GACpC,SAAA,CAAAD,OAAC,MAAG,MAAO,CAAE,OAAQ,OAAOC,EAAQ,CAAC,CAAC,KAAM,MAAOG,EAAO,YAAa,SAAUE,EAAW,SAAS,IAAM,SAAA,CAAA,SAClGO,CAAA,EACT,EACAX,EAAAA,IAACN,EAAA,CACC,MAAOgB,EAAYC,CAAa,GAAK,UACrC,SAAW4C,GAAUF,EAAkB1C,EAAe4C,CAAK,CAAA,CAAA,CAC7D,EACF,EAGAvD,MAACmB,GAAY,YAAAT,EAA0B,EAGvCV,MAACsB,GAAgB,YAAAZ,EAA0B,SAG1C,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAKX,EAAQ,CAAC,EAAG,UAAWA,EAAQ,CAAC,EAAG,eAAgB,iBACrF,SAAA,CAAAC,EAAAA,IAACgE,GAAO,QAAQ,YAAY,QAASN,EAAa,KAAMO,EAAW,SAAA,OAAA,CAAK,EACxEjE,EAAAA,IAACgE,GAAO,QAASJ,EAAY,KAAMM,EAAM,SAAU,CAACf,EAAY,SAAA,YAAA,CAAU,CAAA,CAAA,CAC5E,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,CAEJ,CAEA,MAAAgB,EAAexE,EAAAA,KAAK4C,CAAiB,EC9d/B6B,GAAezE,EAAAA,KAAK,SAAsB,CAAE,MAAA0E,EAAO,WAAAC,EAAY,QAAAC,EAAS,YAAAC,GAAe,CAC3F,MAAM9D,EAAc2D,EAAM,QAAU,CAAA,EAG9BI,EAAS/D,EAAY,WAAW,GAAK,UACrCgE,EAAWhE,EAAY,aAAa,GAAK,UACzCiE,EAAUjE,EAAY,YAAY,GAAK,UACvCkE,EAAUlE,EAAY,WAAW,GAAK,UACtCmE,EAAUnE,EAAY,WAAW,GAAK,UACtCoE,EAAUpE,EAAY,WAAW,GAAK,UACtCqE,EAAcrE,EAAY,gBAAgB,GAAK,UAC/CsE,EAAUtE,EAAY,oBAAoB,GAAKA,EAAY,WAAW,GAAK,UAC3EuE,EAAUvE,EAAY,0BAA0B,GAAKA,EAAY,WAAW,GAAK,UACjFwE,EAASxE,EAAY,kBAAkB,GAAKA,EAAY,UAAU,GAAK,UAEvEyE,EAAWd,EAAM,SACjBe,EAAkBD,GAAY,OAAO,KAAKzE,CAAW,EAAE,OAAS,EAEtE,OACEZ,EAAAA,KAAC,OAAI,MAAO,CAAE,QAAS,OAAQ,cAAe,UAC5C,SAAA,CAAAA,EAAAA,KAAC,SAAA,CACC,QAAAyE,EACA,MAAO,CACL,QAAS,OACT,cAAe,SACf,QAAS,EACT,WAAYrE,EAAO,SACnB,OAAQoE,EAAa,aAAapE,EAAO,OAAO,GAAK,aAAaA,EAAO,WAAW,GACpF,aAAcD,EAAa,GAC3B,SAAU,SACV,OAAQ,UACR,WAAY,iBACZ,UAAWqE,EAAa,aAAapD,EAAYhB,EAAO,QAAS,EAAE,CAAC,GAAK,MAAA,EAI3E,SAAA,CAAAJ,OAAC,OAAI,MAAO,CACV,MAAO,OACP,OAAQ,GACR,SAAU,WACV,WAAYuE,EAAM,SACd,8DACAc,GAAY,CAACC,EACX,qDACAX,CAAA,EAEL,SAAA,CAAAJ,EAAM,SAELrE,MAAC,OAAI,MAAO,CACV,SAAU,WACV,MAAO,EACP,QAAS,OACT,WAAY,SACZ,eAAgB,QAAA,EAEhB,SAAAA,EAAAA,IAACqF,EAAA,CAAQ,KAAM,GAAI,MAAM,QAAQ,MAAO,CAAE,OAAQ,wCAAA,CAAyC,CAAG,CAAA,CAChG,EACEF,GAAY,CAACC,EAEfpF,MAAC,OAAI,MAAO,CACV,SAAU,WACV,MAAO,EACP,QAAS,OACT,WAAY,SACZ,eAAgB,QAAA,EAEhB,SAAAA,EAAAA,IAACsF,EAAA,CAAQ,KAAM,GAAI,MAAM,QAAQ,MAAO,CAAE,OAAQ,wCAAA,CAAyC,CAAG,CAAA,CAChG,EAGFxF,OAAAyF,EAAAA,SAAA,CAEE,SAAA,CAAAvF,MAAC,OAAI,MAAO,CACV,SAAU,WACV,IAAK,EACL,KAAM,EACN,MAAO,MACP,OAAQ,GACR,WAAY0E,EACZ,aAAczE,EAAa,EAAA,EAC1B,EACHD,MAAC,OAAI,MAAO,CACV,SAAU,WACV,IAAK,EACL,KAAM,MACN,MAAO,EACP,OAAQ,GACR,WAAY2E,EACZ,aAAc1E,EAAa,EAAA,EAC1B,EAGHD,MAAC,OAAI,MAAO,CACV,SAAU,WACV,OAAQ,GACR,KAAM,EACN,MAAO,EACP,OAAQ,GACR,WAAY4E,EACZ,aAAc3E,EAAa,EAAA,EAC1B,EAGHH,OAAC,OAAI,MAAO,CACV,SAAU,WACV,OAAQ,EACR,KAAM,EACN,QAAS,OACT,IAAK,CAAA,EAEL,SAAA,CAAAE,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,MAAO,GAAI,OAAQ,GAAI,aAAc,MAAO,WAAY6E,CAAA,CAAQ,CAAG,EACjF7E,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,MAAO,GAAI,OAAQ,GAAI,aAAc,MAAO,WAAY8E,CAAA,CAAQ,CAAG,EACjF9E,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,MAAO,GAAI,OAAQ,GAAI,aAAc,MAAO,WAAYgF,CAAA,CAAQ,CAAG,EACjFhF,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,MAAO,GAAI,OAAQ,GAAI,aAAc,MAAO,WAAYiF,CAAA,CAAQ,CAAG,EACjFjF,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,MAAO,GAAI,OAAQ,GAAI,aAAc,MAAO,WAAYkF,CAAA,CAAO,CAAG,CAAA,EAClF,EAGApF,OAAC,OAAI,MAAO,CACV,SAAU,WACV,OAAQ,EACR,MAAO,EACP,QAAS,OACT,cAAe,SACf,IAAK,EACL,WAAY,UAAA,EAEZ,SAAA,CAAAE,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,MAAO,GAAI,OAAQ,EAAG,WAAY+E,EAAa,aAAc,EAAG,QAAS,IAAO,EAC9F/E,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,MAAO,GAAI,OAAQ,EAAG,WAAY+E,EAAa,aAAc,EAAG,QAAS,GAAI,CAAG,CAAA,CAAA,CAChG,CAAA,CAAA,CACF,EAIDT,GACCtE,EAAAA,IAAC,MAAA,CAAI,MAAO,CACV,SAAU,WACV,IAAK,EACL,MAAO,EACP,MAAO,GACP,OAAQ,GACR,aAAc,MACd,WAAYE,EAAO,QACnB,QAAS,OACT,WAAY,SACZ,eAAgB,QAAA,EAEhB,SAAAF,EAAAA,IAACwF,EAAA,CAAM,KAAM,GAAI,MAAM,QAAQ,CAAA,CACjC,CAAA,EAEJ,EAGA1F,OAAC,OAAI,MAAO,CACV,QAASC,EAAQ,CAAC,EAClB,UAAW,OACX,UAAW,aAAaG,EAAO,WAAW,EAAA,EAE1C,SAAA,CAAAF,MAAC,OAAI,MAAO,CACV,SAAUI,EAAW,SAAS,GAC9B,WAAYA,EAAW,WAAW,OAClC,MAAOF,EAAO,YACd,aAAc,CAAA,EAEb,WAAM,KACT,EACAF,MAAC,OAAI,MAAO,CACV,SAAUI,EAAW,SAAS,GAC9B,MAAOF,EAAO,UACd,WAAY,GAAA,EAEX,WAAM,WAAA,CACT,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,EAIDiF,GACCrF,EAAAA,KAAC,SAAA,CACC,QAAUK,GAAM,CAAEA,EAAE,gBAAA,EAAmBqE,IAAA,CAAiB,EACxD,MAAO,CACL,UAAWzE,EAAQ,CAAC,EACpB,QAAS,GAAGA,EAAQ,CAAC,CAAC,MAAMA,EAAQ,CAAC,CAAC,KACtC,WAAYG,EAAO,QACnB,OAAQ,aAAaA,EAAO,MAAM,GAClC,aAAcD,EAAa,GAC3B,MAAOC,EAAO,YACd,SAAUE,EAAW,SAAS,GAC9B,OAAQ,UACR,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,IAAKL,EAAQ,CAAC,CAAA,EAGhB,SAAA,CAAAC,EAAAA,IAACyF,EAAA,CAAS,KAAM,EAAA,CAAI,EAAE,kBAAA,CAAA,CAAA,CAExB,EAEJ,CAEF,CAAC,EAED,SAASC,GAAc,CAAE,OAAAlD,GAAU,CACjC,KAAM,CAAE,QAAAmD,EAAS,SAAAC,EAAU,kBAAAC,EAAmB,gBAAAC,CAAA,EAAoBC,EAAA,EAC5D,CAACC,EAAkBC,CAAmB,EAAIpE,EAAAA,SAAS,EAAK,EAGxDqE,EAAyBC,GAAoB,CACjDN,EAAkBM,CAAe,EACjCP,EAAS,QAAQ,EACjBK,EAAoB,EAAK,CAC3B,EAGA,OAAID,EAEAhG,EAAAA,IAACuC,EAAA,CACC,OAAQ,IAAM0D,EAAoB,EAAK,EACvC,OAAQC,EACR,cAAeJ,EAAgB,KAAKM,GAAKA,EAAE,KAAO,QAAQ,CAAA,CAAA,EAM9DtG,EAAAA,KAAAyF,WAAA,CACE,SAAA,CAAAvF,EAAAA,IAAC6D,EAAA,CAAW,QAASrB,EAAQ,SAAA,oBAAiB,EAG9C1C,OAAC,OAAI,MAAO,CACV,QAAS,OACT,WAAY,aACZ,IAAKC,EAAQ,CAAC,EACd,aAAcA,EAAQ,CAAC,CAAA,EAEvB,SAAA,CAAAC,MAAC,OAAI,MAAO,CACV,MAAO,GACP,OAAQ,GACR,aAAcC,EAAa,GAC3B,WAAY,GAAGiB,EAAYhB,EAAO,QAAS,EAAE,CAAC,GAC9C,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,WAAY,CAAA,EAEZ,eAAC4D,EAAA,CAAQ,KAAM,GAAI,MAAO5D,EAAO,QAAS,EAC5C,SACC,MAAA,CACC,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAG,MAAO,CAAE,OAAQ,EAAG,MAAOE,EAAO,WAAA,EAAe,SAAA,gBAAA,CAErD,QACC,IAAA,CAAE,MAAO,CAAE,OAAQ,GAAGH,EAAQ,CAAC,CAAC,SAAU,MAAOG,EAAO,UAAW,SAAUE,EAAW,SAAS,EAAA,EAAM,SAAA,mFAAA,CAExG,CAAA,CAAA,CACF,CAAA,EACF,EAGAJ,MAAC,OAAI,MAAO,CACV,QAAS,OACT,oBAAqB,wCACrB,IAAKD,EAAQ,CAAC,CAAA,EAEb,SAAA+F,EAAgB,IAAIzB,GACnBrE,EAAAA,IAACoE,GAAA,CAEC,MAAAC,EACA,WAAYsB,IAAYtB,EAAM,GAC9B,QAAS,IAAMuB,EAASvB,EAAM,EAAE,EAChC,YAAaA,EAAM,SAAW,IAAM4B,EAAoB,EAAI,EAAI,MAAA,EAJ3D5B,EAAM,EAAA,CAMd,EACH,EAGArE,EAAAA,IAACoB,GAAK,MAAO,CAAE,UAAWrB,EAAQ,CAAC,EAAG,SAAU,GAAA,EAC9C,gBAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAKA,EAAQ,CAAC,CAAA,EACjE,SAAA,CAAAC,MAAC,OAAI,MAAO,CACV,MAAO,GACP,OAAQ,GACR,aAAcC,EAAa,GAC3B,WAAYC,EAAO,QACnB,QAAS,OACT,WAAY,SACZ,eAAgB,QAAA,EAEhB,SAAAF,MAACwF,EAAA,CAAM,KAAM,GAAI,MAAM,QAAQ,EACjC,SACC,MAAA,CACC,SAAA,CAAA1F,OAAC,OAAI,MAAO,CACV,SAAUM,EAAW,SAAS,GAC9B,WAAYA,EAAW,WAAW,OAClC,MAAOF,EAAO,WAAA,EACb,SAAA,CAAA,kBACe4F,EAAgB,KAAKM,GAAKA,EAAE,KAAOT,CAAO,GAAG,MAAQ,SAAA,EACvE,EACA3F,MAAC,OAAI,MAAO,CAAE,SAAUI,EAAW,SAAS,GAAI,MAAOF,EAAO,WAC3D,SAAA4F,EAAgB,KAAKM,GAAKA,EAAE,KAAOT,CAAO,GAAG,aAAe,EAAA,CAC/D,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,CAEJ,CAEA,MAAAU,GAAe1G,EAAAA,KAAK+F,EAAa"}