import{j as i,i as g,a as u,d as M,c as F,B as b,J as l}from"./index-TtmnPN12.js";import{a as p,D as q}from"./vendor-icons-B6HpBdFH.js";import{M as w,a as C}from"./ModalBase-BgtxHV_N.js";import"./vendor-react-DwPMHwnM.js";const h=p.memo(function({data:a,size:r=150}){const f=p.useRef(null);return p.useEffect(()=>{const c=f.current;if(!c)return;const t=c.getContext("2d"),d=21,m=r/d;t.fillStyle="#FFFFFF",t.fillRect(0,0,r,r),t.fillStyle="#000000";const s=(e,o)=>{t.fillRect(e*m,o*m,m,m)},x=(e,o)=>{for(let n=0;n<7;n++)s(e+n,o),s(e+n,o+6),s(e,o+n),s(e+6,o+n);for(let n=2;n<=4;n++)for(let R=2;R<=4;R++)s(e+R,o+n)};x(0,0),x(d-7,0),x(0,d-7);for(let e=8;e<d-8;e+=2)s(e,6),s(6,e);const j=a.split("").reduce((e,o,n)=>e+o.charCodeAt(0)*(n+1),0),v=(e,o)=>{const n=Math.sin(j*12.9898+e*78.233+o*45.164)*43758.5453;return n-Math.floor(n)};for(let e=0;e<d;e++)for(let o=0;o<d;o++)o<8&&e<8||o>=d-8&&e<8||o<8&&e>=d-8||o===6||e===6||v(o,e)>.5&&s(o,e)},[a,r]),i.jsx("canvas",{ref:f,width:r,height:r,style:{borderRadius:g.sm,border:"4px solid #FFFFFF"}})}),Q=p.memo(function({item:a,onClose:r}){const f=()=>{const c=document.querySelector("canvas");if(c){const t=document.createElement("a");t.download=`${a.id}-qr.png`,t.href=c.toDataURL("image/png"),t.click()}};return i.jsxs(w,{onClose:r,maxWidth:350,children:[i.jsx(C,{title:"QR Code",onClose:r}),i.jsxs("div",{style:{padding:u[6],textAlign:"center"},children:[i.jsx("div",{style:{marginBottom:u[4],display:"inline-block",background:"#FFFFFF",padding:u[3],borderRadius:g.lg},children:i.jsx(h,{data:a.id,size:180})}),i.jsx("div",{style:{marginBottom:u[2]},children:i.jsx(M,{text:a.id,color:F.primary,size:"md"})}),i.jsx("p",{style:{color:F.textSecondary,margin:`0 0 ${u[4]}px`},children:a.name}),i.jsx(b,{variant:"secondary",fullWidth:!0,onClick:f,icon:q,children:"Download QR Code"})]})]})});h.propTypes={data:l.string.isRequired,size:l.number};Q.propTypes={item:l.shape({id:l.string.isRequired,name:l.string.isRequired}).isRequired,onClose:l.func.isRequired};export{h as QRCode,Q as QRModal};
//# sourceMappingURL=QRModal-CUTgfIpN.js.map
