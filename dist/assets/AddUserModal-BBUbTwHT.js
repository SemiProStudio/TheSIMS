import{j as e,a as n,c as r,s as i,t as c,S as f,B as u,J as d}from"./index-TtmnPN12.js";import{a as p,b as v}from"./vendor-icons-B6HpBdFH.js";import{M as w,a as b}from"./ModalBase-BgtxHV_N.js";import"./vendor-react-DwPMHwnM.js";const C=p.memo(function({onSave:x,onClose:m,existingEmails:h=[]}){const[a,t]=p.useState({name:"",email:"",password:"",role:"user"}),[l,g]=p.useState({}),y=()=>{const s={};return a.name.trim()||(s.name="Name is required"),a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)?h.includes(a.email.toLowerCase())&&(s.email="Email already exists"):s.email="Invalid email format":s.email="Email is required",a.password.trim()?a.password.length<4&&(s.password="Password must be at least 4 characters"):s.password="Password is required",g(s),Object.keys(s).length===0},j=()=>{y()&&x({id:`u${Date.now()}`,name:a.name.trim(),email:a.email.trim().toLowerCase(),password:a.password,role:a.role,roleId:a.role==="admin"?"role_admin":"role_user",avatar:a.name.trim().charAt(0).toUpperCase()})};return e.jsxs(w,{onClose:m,maxWidth:450,children:[e.jsx(b,{title:"Add User",onClose:m}),e.jsxs("div",{style:{padding:n[4]},children:[e.jsxs("div",{style:{marginBottom:n[3]},children:[e.jsxs("label",{style:{...i.label,color:!a.name||l.name?r.danger:void 0},children:["Name ",e.jsx("span",{style:{color:r.danger},children:"*"})]}),e.jsx("input",{value:a.name,onChange:s=>t(o=>({...o,name:s.target.value})),placeholder:"Full name",style:{...i.input,borderColor:!a.name||l.name?r.danger:r.border}}),l.name&&e.jsx("span",{style:{color:r.danger,fontSize:c.fontSize.xs},children:l.name})]}),e.jsxs("div",{style:{marginBottom:n[3]},children:[e.jsxs("label",{style:{...i.label,color:!a.email||l.email?r.danger:void 0},children:["Email ",e.jsx("span",{style:{color:r.danger},children:"*"})]}),e.jsx("input",{type:"email",value:a.email,onChange:s=>t(o=>({...o,email:s.target.value})),placeholder:"user@example.com",style:{...i.input,borderColor:!a.email||l.email?r.danger:r.border}}),l.email&&e.jsx("span",{style:{color:r.danger,fontSize:c.fontSize.xs},children:l.email})]}),e.jsxs("div",{style:{marginBottom:n[3]},children:[e.jsxs("label",{style:{...i.label,color:!a.password||l.password?r.danger:void 0},children:["Password ",e.jsx("span",{style:{color:r.danger},children:"*"})]}),e.jsx("input",{type:"password",value:a.password,onChange:s=>t(o=>({...o,password:s.target.value})),placeholder:"Minimum 4 characters",style:{...i.input,borderColor:!a.password||l.password?r.danger:r.border}}),l.password&&e.jsx("span",{style:{color:r.danger,fontSize:c.fontSize.xs},children:l.password})]}),e.jsxs("div",{style:{marginBottom:n[4]},children:[e.jsx("label",{style:i.label,children:"Role"}),e.jsx(f,{value:a.role,onChange:s=>t(o=>({...o,role:s.target.value})),options:[{value:"user",label:"User"},{value:"admin",label:"Admin"}],"aria-label":"Role"})]}),e.jsxs("div",{style:{display:"flex",gap:n[3],justifyContent:"flex-end"},children:[e.jsx(u,{variant:"secondary",onClick:m,children:"Cancel"}),e.jsx(u,{onClick:j,icon:v,children:"Add User"})]})]})]})});C.propTypes={onSave:d.func.isRequired,onClose:d.func.isRequired,existingEmails:d.arrayOf(d.string)};export{C as AddUserModal};
//# sourceMappingURL=AddUserModal-BBUbTwHT.js.map
