{"version":3,"file":"RolesManager-Bqof7tHo.js","sources":["../../views/RolesManager.jsx"],"sourcesContent":["// ============================================================================\n// Roles Manager Component\n// Manage user roles and permissions\n// ============================================================================\n\nimport React, { memo, useState, useCallback } from 'react';\nimport { Shield, Plus, Edit2, Trash2, Save, X, Users, Eye, EyeOff, Pencil, ChevronDown, ChevronRight } from 'lucide-react';\nimport { colors, styles, spacing, borderRadius, typography, withOpacity, zIndex } from '../theme.js';\nimport { APP_FUNCTIONS, PERMISSION_LEVELS } from '../constants.js';\nimport { Button, Card, Badge } from '../components/ui.jsx';\nimport { generateId } from '../utils.js';\n\n// Permission level badge colors\nconst getPermissionColor = (level) => {\n  switch (level) {\n    case PERMISSION_LEVELS.EDIT: return colors.success;\n    case PERMISSION_LEVELS.VIEW: return colors.primary;\n    case PERMISSION_LEVELS.HIDE: return colors.textMuted;\n    default: return colors.textMuted;\n  }\n};\n\n// Permission level icon\nconst PermissionIcon = ({ level, size = 16 }) => {\n  switch (level) {\n    case PERMISSION_LEVELS.EDIT: return <Pencil size={size} />;\n    case PERMISSION_LEVELS.VIEW: return <Eye size={size} />;\n    case PERMISSION_LEVELS.HIDE: return <EyeOff size={size} />;\n    default: return <EyeOff size={size} />;\n  }\n};\n\n// Permission selector button\nconst PermissionButton = memo(function PermissionButton({ level, isActive, onClick, disabled }) {\n  const color = getPermissionColor(level);\n  const labels = {\n    [PERMISSION_LEVELS.EDIT]: 'Edit',\n    [PERMISSION_LEVELS.VIEW]: 'View',\n    [PERMISSION_LEVELS.HIDE]: 'Hide',\n  };\n  \n  return (\n    <button\n      onClick={onClick}\n      disabled={disabled}\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n        gap: spacing[1],\n        padding: `${spacing[1]}px ${spacing[2]}px`,\n        border: `1px solid ${isActive ? color : colors.border}`,\n        borderRadius: borderRadius.md,\n        background: isActive ? withOpacity(color, 20) : 'transparent',\n        color: isActive ? color : colors.textMuted,\n        cursor: disabled ? 'not-allowed' : 'pointer',\n        fontSize: typography.fontSize.xs,\n        fontWeight: isActive ? typography.fontWeight.medium : typography.fontWeight.normal,\n        opacity: disabled ? 0.5 : 1,\n        transition: 'all 0.15s ease',\n      }}\n    >\n      <PermissionIcon level={level} size={12} />\n      {labels[level]}\n    </button>\n  );\n});\n\n// Function permission row in editor\nconst FunctionPermissionRow = memo(function FunctionPermissionRow({ \n  func, \n  currentPermission, \n  onChange, \n  disabled \n}) {\n  return (\n    <div style={{\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n      padding: `${spacing[2]}px ${spacing[3]}px`,\n      borderBottom: `1px solid ${colors.border}`,\n    }}>\n      <div style={{ flex: 1 }}>\n        <div style={{ \n          fontWeight: typography.fontWeight.medium, \n          color: colors.textPrimary,\n          fontSize: typography.fontSize.sm,\n        }}>\n          {func.name}\n        </div>\n        <div style={{ \n          fontSize: typography.fontSize.xs, \n          color: colors.textMuted,\n        }}>\n          {func.description}\n        </div>\n      </div>\n      <div style={{ display: 'flex', gap: spacing[1] }}>\n        {Object.values(PERMISSION_LEVELS).map(level => (\n          <PermissionButton\n            key={level}\n            level={level}\n            isActive={currentPermission === level}\n            onClick={() => onChange(func.id, level)}\n            disabled={disabled}\n          />\n        ))}\n      </div>\n    </div>\n  );\n});\n\n// Role card component\nconst RoleCard = memo(function RoleCard({ role, onEdit, onDelete, onAssign, userCount }) {\n  const [expanded, setExpanded] = useState(false);\n  \n  const permissionCounts = Object.values(role.permissions).reduce((acc, level) => {\n    acc[level] = (acc[level] || 0) + 1;\n    return acc;\n  }, {});\n\n  return (\n    <Card style={{ marginBottom: spacing[3] }}>\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        padding: spacing[3],\n      }}>\n        {/* Left side: Expand button + Icon + Info */}\n        <div style={{ display: 'flex', alignItems: 'center', gap: spacing[3] }}>\n          {/* Expand/Collapse button - far left */}\n          <button\n            onClick={() => setExpanded(!expanded)}\n            className=\"role-btn\"\n            style={{\n              background: 'none',\n              border: 'none',\n              padding: spacing[1],\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              cursor: 'pointer',\n              color: colors.textMuted,\n              borderRadius: borderRadius.md,\n            }}\n            title={expanded ? \"Collapse permissions\" : \"Expand permissions\"}\n          >\n            {expanded ? <ChevronDown size={20} /> : <ChevronRight size={20} />}\n          </button>\n          \n          {/* Shield icon */}\n          <div style={{\n            width: 40,\n            height: 40,\n            borderRadius: borderRadius.lg,\n            background: `${withOpacity(colors.primary, 15)}`,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            color: colors.primary,\n          }}>\n            <Shield size={20} />\n          </div>\n          \n          {/* Role info */}\n          <div>\n            <div style={{ \n              display: 'flex', \n              alignItems: 'center', \n              gap: spacing[2],\n            }}>\n              <span style={{ \n                fontWeight: typography.fontWeight.semibold, \n                color: colors.textPrimary,\n              }}>\n                {role.name}\n              </span>\n              {role.isSystem && (\n                <Badge text=\"System\" color={colors.textMuted} size=\"xs\" />\n              )}\n            </div>\n            <div style={{ \n              fontSize: typography.fontSize.sm, \n              color: colors.textMuted,\n              marginTop: 2,\n            }}>\n              {role.description}\n            </div>\n            <div style={{ \n              display: 'flex', \n              gap: spacing[2], \n              marginTop: spacing[1],\n              fontSize: typography.fontSize.xs,\n            }}>\n              <span style={{ color: colors.success }}>\n                {permissionCounts[PERMISSION_LEVELS.EDIT] || 0} Edit\n              </span>\n              <span style={{ color: colors.primary }}>\n                {permissionCounts[PERMISSION_LEVELS.VIEW] || 0} View\n              </span>\n              <span style={{ color: colors.textMuted }}>\n                {permissionCounts[PERMISSION_LEVELS.HIDE] || 0} Hidden\n              </span>\n              <span style={{ color: colors.accent2 }}>\n                â€¢ {userCount} user{userCount !== 1 ? 's' : ''}\n              </span>\n            </div>\n          </div>\n        </div>\n        \n        {/* Right side: Action buttons only */}\n        <div style={{ display: 'flex', alignItems: 'center', gap: spacing[2] }}>\n          <Button size=\"sm\" variant=\"secondary\" onClick={() => onAssign(role)} icon={Users}>\n            Assign\n          </Button>\n          <Button size=\"sm\" variant=\"secondary\" onClick={() => onEdit(role)} icon={Edit2}>\n            Edit\n          </Button>\n          {!role.isSystem && (\n            <Button size=\"sm\" variant=\"secondary\" danger onClick={() => onDelete(role)} icon={Trash2}>\n              Delete\n            </Button>\n          )}\n        </div>\n      </div>\n      \n      {expanded && (\n        <div style={{\n          borderTop: `1px solid ${colors.border}`,\n          padding: spacing[3],\n          background: colors.bgDark,\n        }}>\n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))',\n            gap: spacing[2],\n          }}>\n            {Object.values(APP_FUNCTIONS).map(func => {\n              const permission = role.permissions[func.id] || PERMISSION_LEVELS.HIDE;\n              return (\n                <div \n                  key={func.id}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'space-between',\n                    padding: `${spacing[1]}px ${spacing[2]}px`,\n                    background: colors.bgLight,\n                    borderRadius: borderRadius.md,\n                  }}\n                >\n                  <span style={{ \n                    fontSize: typography.fontSize.sm,\n                    color: permission === PERMISSION_LEVELS.HIDE ? colors.textMuted : colors.textPrimary,\n                  }}>\n                    {func.name}\n                  </span>\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: spacing[1],\n                    color: getPermissionColor(permission),\n                    fontSize: typography.fontSize.xs,\n                  }}>\n                    <PermissionIcon level={permission} size={14} />\n                    <span style={{ textTransform: 'capitalize' }}>{permission}</span>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n    </Card>\n  );\n});\n\n// Role editor component\nconst RoleEditor = memo(function RoleEditor({ role, onSave, onCancel }) {\n  const [name, setName] = useState(role?.name || '');\n  const [description, setDescription] = useState(role?.description || '');\n  const [permissions, setPermissions] = useState(\n    role?.permissions || \n    Object.keys(APP_FUNCTIONS).reduce((acc, key) => {\n      acc[APP_FUNCTIONS[key].id] = PERMISSION_LEVELS.VIEW;\n      return acc;\n    }, {})\n  );\n  \n  const isEdit = !!role?.id;\n  const isSystem = role?.isSystem;\n  \n  const handlePermissionChange = useCallback((funcId, level) => {\n    setPermissions(prev => ({ ...prev, [funcId]: level }));\n  }, []);\n  \n  const handleSave = () => {\n    if (!name.trim()) return;\n    \n    onSave({\n      id: role?.id || `role_${generateId()}`,\n      name: name.trim(),\n      description: description.trim(),\n      isSystem: role?.isSystem || false,\n      permissions,\n    });\n  };\n  \n  const setAllPermissions = (level) => {\n    const newPerms = {};\n    Object.values(APP_FUNCTIONS).forEach(func => {\n      newPerms[func.id] = level;\n    });\n    setPermissions(newPerms);\n  };\n\n  // Group functions by category\n  const functionGroups = [\n    { name: 'Main Features', funcs: ['dashboard', 'gear_list', 'item_details', 'schedule', 'pack_lists', 'clients', 'search', 'labels', 'reports'] },\n    { name: 'Administration', funcs: ['admin_users', 'admin_categories', 'admin_specs', 'admin_locations', 'admin_themes', 'admin_layout', 'admin_notifications', 'admin_roles', 'admin_audit'] },\n  ];\n\n  return (\n    <div>\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        marginBottom: spacing[4],\n      }}>\n        <h3 style={{ margin: 0, color: colors.textPrimary }}>\n          {isEdit ? 'Edit Role' : 'Create New Role'}\n        </h3>\n        <button\n          onClick={onCancel}\n          style={{\n            background: 'none',\n            border: 'none',\n            cursor: 'pointer',\n            color: colors.textMuted,\n            padding: spacing[1],\n          }}\n        >\n          <X size={20} />\n        </button>\n      </div>\n\n      {/* Name and Description */}\n      <div style={{ marginBottom: spacing[4] }}>\n        <div style={{ marginBottom: spacing[3] }}>\n          <label style={{ ...styles.label, color: !name && !isSystem ? colors.danger : undefined }}>\n            Role Name <span style={{ color: colors.danger }}>*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={name}\n            onChange={e => setName(e.target.value)}\n            placeholder=\"e.g., Equipment Manager\"\n            disabled={isSystem}\n            style={{\n              ...styles.input,\n              opacity: isSystem ? 0.7 : 1,\n              borderColor: !name && !isSystem ? colors.danger : colors.border,\n            }}\n          />\n          {isSystem && (\n            <p style={{ \n              fontSize: typography.fontSize.xs, \n              color: colors.textMuted,\n              margin: `${spacing[1]}px 0 0`,\n            }}>\n              System role names cannot be changed\n            </p>\n          )}\n        </div>\n        <div>\n          <label style={styles.label}>Description</label>\n          <input\n            type=\"text\"\n            value={description}\n            onChange={e => setDescription(e.target.value)}\n            placeholder=\"Brief description of this role\"\n            style={styles.input}\n          />\n        </div>\n      </div>\n\n      {/* Quick Set Buttons */}\n      <div style={{ \n        display: 'flex', \n        alignItems: 'center', \n        gap: spacing[2],\n        marginBottom: spacing[3],\n        padding: spacing[2],\n        background: colors.bgDark,\n        borderRadius: borderRadius.md,\n      }}>\n        <span style={{ fontSize: typography.fontSize.sm, color: colors.textMuted }}>\n          Quick set all:\n        </span>\n        <Button size=\"sm\" variant=\"secondary\" onClick={() => setAllPermissions(PERMISSION_LEVELS.EDIT)}>\n          All Edit\n        </Button>\n        <Button size=\"sm\" variant=\"secondary\" onClick={() => setAllPermissions(PERMISSION_LEVELS.VIEW)}>\n          All View\n        </Button>\n        <Button size=\"sm\" variant=\"secondary\" onClick={() => setAllPermissions(PERMISSION_LEVELS.HIDE)}>\n          All Hide\n        </Button>\n      </div>\n\n      {/* Permissions Matrix */}\n      <div style={{\n        border: `1px solid ${colors.border}`,\n        borderRadius: borderRadius.lg,\n        overflow: 'hidden',\n        marginBottom: spacing[4],\n      }}>\n        {functionGroups.map((group, groupIdx) => (\n          <div key={group.name}>\n            <div style={{\n              padding: `${spacing[2]}px ${spacing[3]}px`,\n              background: colors.bgDark,\n              borderBottom: `1px solid ${colors.border}`,\n              borderTop: groupIdx > 0 ? `1px solid ${colors.border}` : 'none',\n            }}>\n              <span style={{ \n                fontWeight: typography.fontWeight.semibold,\n                color: colors.textPrimary,\n                fontSize: typography.fontSize.sm,\n              }}>\n                {group.name}\n              </span>\n            </div>\n            {group.funcs.map(funcId => {\n              const func = Object.values(APP_FUNCTIONS).find(f => f.id === funcId);\n              if (!func) return null;\n              return (\n                <FunctionPermissionRow\n                  key={func.id}\n                  func={func}\n                  currentPermission={permissions[func.id] || PERMISSION_LEVELS.HIDE}\n                  onChange={handlePermissionChange}\n                  disabled={false}\n                />\n              );\n            })}\n          </div>\n        ))}\n      </div>\n\n      {/* Action Buttons */}\n      <div style={{ display: 'flex', gap: spacing[3], justifyContent: 'flex-end' }}>\n        <Button variant=\"secondary\" onClick={onCancel}>Cancel</Button>\n        <Button onClick={handleSave} disabled={!name.trim()} icon={Save}>\n          {isEdit ? 'Save Changes' : 'Create Role'}\n        </Button>\n      </div>\n    </div>\n  );\n});\n\n// User Assignment Modal\nconst UserAssignmentModal = memo(function UserAssignmentModal({ role, users = [], onSave, onClose }) {\n  const [selectedUsers, setSelectedUsers] = useState(\n    new Set((users || []).filter(u => u.roleId === role.id || u.role_id === role.id).map(u => u.id))\n  );\n\n  const toggleUser = (userId) => {\n    setSelectedUsers(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(userId)) {\n        newSet.delete(userId);\n      } else {\n        newSet.add(userId);\n      }\n      return newSet;\n    });\n  };\n\n  const handleSave = () => {\n    onSave(role.id, [...selectedUsers]);\n    onClose();\n  };\n\n  return (\n    <div className=\"modal-backdrop\" style={{\n      position: 'fixed',\n      inset: 0,\n      background: 'rgba(0,0,0,0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: zIndex.modal,\n    }}>\n      <div style={{\n        background: colors.bgLight,\n        borderRadius: borderRadius.xl,\n        width: '100%',\n        maxWidth: 500,\n        maxHeight: '80vh',\n        overflow: 'hidden',\n        display: 'flex',\n        flexDirection: 'column',\n      }}>\n        <div style={{\n          padding: spacing[4],\n          borderBottom: `1px solid ${colors.border}`,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n        }}>\n          <div>\n            <h3 style={{ margin: 0, color: colors.textPrimary }}>Assign Users to Role</h3>\n            <p style={{ margin: `${spacing[1]}px 0 0`, color: colors.textMuted, fontSize: typography.fontSize.sm }}>\n              {role.name}\n            </p>\n          </div>\n          <button\n            onClick={onClose}\n            style={{\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer',\n              color: colors.textMuted,\n              padding: spacing[1],\n            }}\n          >\n            <X size={20} />\n          </button>\n        </div>\n        \n        <div style={{ flex: 1, overflowY: 'auto', padding: spacing[3] }}>\n          {(users || []).map(user => (\n            <label\n              key={user.id}\n              className=\"list-item-hover\"\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: spacing[3],\n                padding: spacing[2],\n                borderRadius: borderRadius.md,\n                cursor: 'pointer',\n              }}\n            >\n              <input\n                type=\"checkbox\"\n                checked={selectedUsers.has(user.id)}\n                onChange={() => toggleUser(user.id)}\n                style={{ width: 18, height: 18 }}\n              />\n              <div>\n                <div style={{ fontWeight: typography.fontWeight.medium, color: colors.textPrimary }}>\n                  {user.name}\n                </div>\n                <div style={{ fontSize: typography.fontSize.sm, color: colors.textMuted }}>\n                  {user.email}\n                </div>\n              </div>\n            </label>\n          ))}\n        </div>\n        \n        <div style={{\n          padding: spacing[4],\n          borderTop: `1px solid ${colors.border}`,\n          display: 'flex',\n          gap: spacing[3],\n          justifyContent: 'flex-end',\n        }}>\n          <Button variant=\"secondary\" onClick={onClose}>Cancel</Button>\n          <Button onClick={handleSave} icon={Save}>Save Assignments</Button>\n        </div>\n      </div>\n    </div>\n  );\n});\n\n// Main Roles Manager Component\nfunction RolesManager({ roles = [], users = [], onSaveRole, onDeleteRole, onAssignUsers, onBack }) {\n  const [editingRole, setEditingRole] = useState(null);\n  const [assigningRole, setAssigningRole] = useState(null);\n  const [showEditor, setShowEditor] = useState(false);\n\n  const handleCreateNew = () => {\n    setEditingRole(null);\n    setShowEditor(true);\n  };\n\n  const handleEdit = (role) => {\n    setEditingRole(role);\n    setShowEditor(true);\n  };\n\n  const handleSave = (roleData) => {\n    onSaveRole?.(roleData);\n    setShowEditor(false);\n    setEditingRole(null);\n  };\n\n  const handleDelete = (role) => {\n    if (window.confirm(`Are you sure you want to delete the \"${role.name}\" role? Users with this role will need to be reassigned.`)) {\n      onDeleteRole?.(role.id);\n    }\n  };\n\n  const getUserCount = (roleId) => {\n    return (users || []).filter(u => u.roleId === roleId || u.role_id === roleId).length;\n  };\n\n  if (showEditor) {\n    return (\n      <RoleEditor\n        role={editingRole}\n        onSave={handleSave}\n        onCancel={() => {\n          setShowEditor(false);\n          setEditingRole(null);\n        }}\n      />\n    );\n  }\n\n  return (\n    <>\n      {/* Header */}\n      <div style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'flex-start',\n        marginBottom: spacing[6],\n      }}>\n        <div>\n          <h2 style={{ margin: 0, color: colors.textPrimary }}>Roles & Permissions</h2>\n          <p style={{ margin: `${spacing[1]}px 0 0`, color: colors.textMuted, fontSize: typography.fontSize.sm }}>\n            Create and manage user roles with granular permission control\n          </p>\n        </div>\n        <Button onClick={handleCreateNew} icon={Plus}>\n          Create Role\n        </Button>\n      </div>\n\n      {/* Permission Legend */}\n      <Card style={{ marginBottom: spacing[4], padding: spacing[3] }}>\n        <div style={{ \n          display: 'flex', \n          alignItems: 'center', \n          gap: spacing[4],\n          flexWrap: 'wrap',\n        }}>\n          <span style={{ \n            fontWeight: typography.fontWeight.medium, \n            color: colors.textPrimary,\n            fontSize: typography.fontSize.sm,\n          }}>\n            Permission Levels:\n          </span>\n          <div style={{ display: 'flex', alignItems: 'center', gap: spacing[1], color: colors.success }}>\n            <Pencil size={14} />\n            <span style={{ fontSize: typography.fontSize.sm }}>Edit - Full access to view and modify</span>\n          </div>\n          <div style={{ display: 'flex', alignItems: 'center', gap: spacing[1], color: colors.primary }}>\n            <Eye size={14} />\n            <span style={{ fontSize: typography.fontSize.sm }}>View - Read-only access</span>\n          </div>\n          <div style={{ display: 'flex', alignItems: 'center', gap: spacing[1], color: colors.textMuted }}>\n            <EyeOff size={14} />\n            <span style={{ fontSize: typography.fontSize.sm }}>Hide - No access, hidden from navigation</span>\n          </div>\n        </div>\n      </Card>\n\n      {/* Roles List */}\n      {(roles || []).map(role => (\n        <RoleCard\n          key={role.id}\n          role={role}\n          onEdit={handleEdit}\n          onDelete={handleDelete}\n          onAssign={setAssigningRole}\n          userCount={getUserCount(role.id)}\n        />\n      ))}\n\n      {/* User Assignment Modal */}\n      {assigningRole && (\n        <UserAssignmentModal\n          role={assigningRole}\n          users={users || []}\n          onSave={onAssignUsers}\n          onClose={() => setAssigningRole(null)}\n        />\n      )}\n    </>\n  );\n}\n\nexport default memo(RolesManager);\n"],"names":["getPermissionColor","level","PERMISSION_LEVELS","colors","PermissionIcon","size","jsx","Pencil","Eye","EyeOff","PermissionButton","memo","isActive","onClick","disabled","color","labels","jsxs","spacing","borderRadius","withOpacity","typography","FunctionPermissionRow","func","currentPermission","onChange","RoleCard","role","onEdit","onDelete","onAssign","userCount","expanded","setExpanded","useState","permissionCounts","acc","Card","ChevronDown","ChevronRight","Shield","Badge","Button","Users","Edit2","Trash2","APP_FUNCTIONS","permission","RoleEditor","onSave","onCancel","name","setName","description","setDescription","permissions","setPermissions","key","isEdit","isSystem","handlePermissionChange","useCallback","funcId","prev","handleSave","generateId","setAllPermissions","newPerms","functionGroups","X","styles","e","group","groupIdx","f","Save","UserAssignmentModal","users","onClose","selectedUsers","setSelectedUsers","u","toggleUser","userId","newSet","zIndex","user","RolesManager","roles","onSaveRole","onDeleteRole","onAssignUsers","onBack","editingRole","setEditingRole","assigningRole","setAssigningRole","showEditor","setShowEditor","handleCreateNew","handleEdit","roleData","handleDelete","getUserCount","roleId","Fragment","Plus","RolesManager_default"],"mappings":"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"}