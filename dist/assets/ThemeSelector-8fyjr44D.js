import{X as k,Y as w,j as e,a as t,y as I,i as a,c as i,t as o,C as v,Z as M,B as T,w as $,$ as L,a0 as O,a1 as F,a2 as D}from"./index-TtmnPN12.js";import{a as c,a5 as P,H,t as N,g as B,C as W,s as U,d as _,a4 as E,a6 as G,V as Y,S as q}from"./vendor-icons-B6HpBdFH.js";import"./vendor-react-DwPMHwnM.js";const J=c.memo(function({color:s,onChange:d}){return e.jsxs("div",{style:{display:"flex",gap:t[2],alignItems:"center"},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:a.md,background:s,border:`1px solid ${i.border}`,flexShrink:0}}),e.jsx("input",{type:"text",value:s,onChange:r=>/^#[0-9A-Fa-f]{6}$/.test(r.target.value)&&d(r.target.value),style:{flex:1,padding:`${t[2]}px ${t[3]}px`,background:i.bgDark,border:`1px solid ${i.border}`,borderRadius:a.md,color:i.textPrimary,fontSize:o.fontSize.sm,fontFamily:"monospace"}}),e.jsx("input",{type:"color",value:s,onChange:r=>d(r.target.value),style:{width:40,height:40,padding:0,border:`1px solid ${i.border}`,borderRadius:a.md,cursor:"pointer"}})]})}),K=c.memo(function({categoryKey:s,category:d,expanded:r,onToggle:x,themeColors:n,selectedColor:m,onSelectColor:p,onColorChange:l}){return e.jsxs("div",{style:{borderBottom:`1px solid ${i.border}`},children:[e.jsxs("button",{onClick:()=>x(s),style:{width:"100%",padding:t[3],display:"flex",alignItems:"center",gap:t[2],background:"transparent",border:"none",cursor:"pointer",color:i.textPrimary},children:[r?e.jsx(B,{size:16}):e.jsx(W,{size:16}),e.jsx("span",{style:{fontWeight:o.fontWeight.medium},children:d.label}),e.jsx("div",{style:{marginLeft:"auto",display:"flex",gap:4},children:d.colors.slice(0,5).map(u=>e.jsx("div",{style:{width:12,height:12,borderRadius:"50%",background:n[u.key]||"#888"}},u.key))})]}),r&&e.jsx("div",{style:{padding:`0 ${t[3]}px ${t[3]}px`},children:d.colors.map(u=>e.jsxs("div",{onClick:()=>p(u.key),style:{display:"flex",alignItems:"center",gap:t[3],padding:t[2],marginBottom:t[1],borderRadius:a.md,cursor:"pointer",background:m===u.key?`${$(i.primary,20)}`:"transparent",border:m===u.key?`1px solid ${i.primary}`:"1px solid transparent"},children:[e.jsx("div",{style:{width:24,height:24,borderRadius:a.sm,background:n[u.key]||"#888",border:`1px solid ${i.border}`,flexShrink:0}}),e.jsx("span",{style:{flex:1,fontSize:o.fontSize.sm,color:i.textPrimary},children:u.label}),e.jsx("span",{style:{fontSize:o.fontSize.xs,fontFamily:"monospace",color:i.textMuted},children:n[u.key]||"#888"})]},u.key))})]})}),V=c.memo(function({themeColors:s}){return e.jsxs(v,{children:[e.jsx("h4",{style:{margin:`0 0 ${t[3]}px`,color:i.textPrimary,fontSize:o.fontSize.sm},children:"Live Preview"}),e.jsxs("div",{style:{padding:t[4],background:s["--bg-dark"],borderRadius:a.md,border:`1px solid ${s["--border"]}`},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"60px 1fr",gap:t[2],marginBottom:t[3]},children:[e.jsxs("div",{style:{background:s["--bg-medium"],borderRadius:a.sm,padding:t[2]},children:[e.jsx("div",{style:{height:6,background:s["--primary"],borderRadius:a.sm,marginBottom:4}}),e.jsx("div",{style:{height:4,background:s["--text-muted"],borderRadius:a.sm,opacity:.5}})]}),e.jsxs("div",{style:{background:s["--bg-light"],borderRadius:a.sm,padding:t[2]},children:[e.jsx("div",{style:{color:s["--text-primary"],fontSize:o.fontSize.xs,fontWeight:o.fontWeight.semibold},children:"Preview"}),e.jsx("div",{style:{color:s["--text-muted"],fontSize:o.fontSize.xs},children:"Sample text"})]})]}),e.jsxs("div",{style:{marginBottom:t[3]},children:[e.jsx("div",{style:{fontSize:o.fontSize.xs,color:s["--text-muted"],marginBottom:t[1]},children:"Focus Ring Preview:"}),e.jsxs("div",{style:{display:"flex",gap:t[2]},children:[e.jsx("div",{style:{padding:`${t[1]}px ${t[2]}px`,background:s["--bg-medium"],borderRadius:a.sm,fontSize:o.fontSize.xs,color:s["--text-primary"],outline:`2px solid ${s["--focus-ring-color"]||s["--primary-light"]}`,outlineOffset:"2px"},children:"Focused"}),e.jsx("div",{style:{padding:`${t[1]}px ${t[2]}px`,background:s["--danger"],borderRadius:a.sm,fontSize:o.fontSize.xs,color:"#fff",outline:`2px solid ${s["--focus-ring-color-danger"]||s["--danger"]}`,outlineOffset:"2px"},children:"Danger"})]})]}),e.jsx("div",{style:{display:"flex",gap:t[1],flexWrap:"wrap",marginBottom:t[2]},children:["--status-available","--status-checked-out","--status-reserved","--status-needs-attention"].map(d=>e.jsx("div",{style:{padding:"2px 6px",background:s[d],color:"#fff",borderRadius:a.sm,fontSize:o.fontSize.xs},children:d.split("-").pop()},d))}),e.jsxs("div",{style:{display:"flex",gap:t[2]},children:[e.jsx("div",{style:{padding:`${t[1]}px ${t[2]}px`,background:s["--primary"],color:"#fff",borderRadius:a.sm,fontSize:o.fontSize.xs},children:"Primary"}),e.jsx("div",{style:{padding:`${t[1]}px ${t[2]}px`,background:s["--danger"],color:"#fff",borderRadius:a.sm,fontSize:o.fontSize.xs},children:"Danger"}),e.jsx("div",{style:{padding:`${t[1]}px ${t[2]}px`,background:s["--success"],color:"#fff",borderRadius:a.sm,fontSize:o.fontSize.xs},children:"Success"})]})]})]})}),X=c.memo(function({themeColors:s}){const d=c.useMemo(()=>L(s),[s]),r=c.useMemo(()=>O(d),[d]),[x,n]=c.useState(!1),m=r.score>=80?"#22c55e":r.score>=60?"#eab308":"#ef4444",p=r.score>=80?U:_;return e.jsxs(v,{style:{marginTop:t[4]},children:[e.jsxs("button",{onClick:()=>n(!x),style:{width:"100%",display:"flex",alignItems:"center",gap:t[2],background:"transparent",border:"none",cursor:"pointer",padding:0,color:i.textPrimary},"aria-expanded":x,children:[e.jsx(p,{size:16,color:m}),e.jsx("span",{style:{fontSize:o.fontSize.sm,fontWeight:o.fontWeight.medium,flex:1,textAlign:"left"},children:"Accessibility Check"}),e.jsxs("span",{style:{padding:"2px 8px",borderRadius:a.full,fontSize:o.fontSize.xs,background:`${m}20`,color:m,fontWeight:o.fontWeight.semibold},children:[r.score,"%"]}),x?e.jsx(B,{size:14}):e.jsx(W,{size:14})]}),x&&e.jsxs("div",{style:{marginTop:t[3]},children:[e.jsxs("div",{style:{fontSize:o.fontSize.xs,color:i.textMuted,marginBottom:t[2]},children:["WCAG AA contrast requirements: ",r.passing," passing, ",r.failing," failing",r.skipped>0&&`, ${r.skipped} skipped (non-hex colors)`]}),e.jsx("div",{style:{maxHeight:200,overflowY:"auto"},children:d.filter(l=>!l.result.skipped).map((l,u)=>{const b=F(l.result.ratio);return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t[2],padding:`${t[1]}px 0`,borderBottom:`1px solid ${i.borderLight}`},children:[e.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:b.color,flexShrink:0}}),e.jsx("span",{style:{flex:1,fontSize:o.fontSize.xs,color:i.textSecondary},children:l.pair.label}),e.jsxs("span",{style:{fontSize:o.fontSize.xs,fontFamily:"monospace",color:b.color},children:[l.result.ratio,":1"]})]},u)})}),r.score<80&&e.jsxs("div",{style:{marginTop:t[3],padding:t[2],background:`${m}10`,borderRadius:a.sm,fontSize:o.fontSize.xs,color:m},children:[e.jsx("strong",{children:"Tip:"})," Increase contrast by using lighter text colors or darker backgrounds. WCAG AA requires a minimum contrast ratio of 4.5:1 for normal text."]})]})]})});function Z({onBack:h,onSave:s,existingTheme:d}){const[r,x]=c.useState(()=>{if(d?.colors)return{...k,...d.colors};try{const g=localStorage.getItem("sims-custom-theme");if(g)return{...k,...JSON.parse(g)}}catch{}return{...k}}),[n,m]=c.useState(()=>d?.name||localStorage.getItem("sims-custom-theme-name")||"My Custom Theme"),[p,l]=c.useState("--primary"),[u,b]=c.useState({primary:!0}),[z,y]=c.useState(!1),S=c.useCallback((g,f)=>{x(A=>({...A,[g]:f})),y(!0)},[]),C=c.useCallback(g=>{b(f=>({...f,[g]:!f[g]}))},[]),R=c.useCallback(()=>{x({...k}),y(!0),w("Theme colors reset to defaults")},[]),j=c.useCallback(()=>{localStorage.setItem("sims-custom-theme",JSON.stringify(r)),localStorage.setItem("sims-custom-theme-name",n),s?.({id:"custom",name:n,description:"User-customized theme",colors:{...r,"--bg-card-solid":r["--bg-card"],"--danger-bg":r["--danger"]+"20","--focus-ring-color":r["--focus-ring-color"]||r["--primary-light"],"--focus-ring-color-danger":r["--focus-ring-color-danger"]||r["--danger"]},isCustom:!0}),y(!1),w(`Theme "${n}" saved successfully`)},[r,n,s]);return e.jsxs("div",{style:{maxWidth:1e3,margin:"0 auto",padding:t[4]},children:[e.jsx(I,{onClick:h,children:"Back to Theme Selector"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t[3],marginBottom:t[4]},children:[e.jsx("div",{style:{width:48,height:48,borderRadius:a.lg,background:`linear-gradient(135deg, ${r["--primary"]}, ${r["--accent1"]})`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(P,{size:24,color:"#fff"})}),e.jsxs("div",{children:[e.jsx("h2",{style:{margin:0,color:i.textPrimary},children:"Custom Theme Editor"}),e.jsx("p",{style:{margin:0,color:i.textMuted,fontSize:o.fontSize.sm},children:"Customize colors and see changes in the preview panel"})]})]}),e.jsx(v,{style:{marginBottom:t[4]},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t[3]},children:[e.jsx("label",{style:{color:i.textSecondary,fontSize:o.fontSize.sm},children:"Theme Name:"}),e.jsx("input",{type:"text",value:n,onChange:g=>{m(g.target.value),y(!0)},style:{flex:1,maxWidth:300,padding:`${t[2]}px ${t[3]}px`,background:i.bgDark,border:`1px solid ${i.border}`,borderRadius:a.md,color:i.textPrimary}})]})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 320px",gap:t[4]},children:[e.jsx(v,{style:{padding:0,overflow:"hidden"},children:Object.entries(M).map(([g,f])=>e.jsx(K,{categoryKey:g,category:f,expanded:u[g],onToggle:C,themeColors:r,selectedColor:p,onSelectColor:l,onColorChange:S},g))}),e.jsxs("div",{children:[e.jsxs(v,{style:{marginBottom:t[4]},children:[e.jsxs("h4",{style:{margin:`0 0 ${t[3]}px`,color:i.textPrimary,fontSize:o.fontSize.sm},children:["Edit: ",p]}),e.jsx(J,{color:r[p]||"#888888",onChange:g=>S(p,g)})]}),e.jsx(V,{themeColors:r}),e.jsx(X,{themeColors:r}),e.jsxs("div",{style:{display:"flex",gap:t[2],marginTop:t[4],justifyContent:"space-between"},children:[e.jsx(T,{variant:"secondary",onClick:R,icon:H,children:"Reset"}),e.jsx(T,{onClick:j,icon:N,disabled:!z,children:"Save Theme"})]})]})]})]})}const Q=c.memo(Z),ee=c.memo(function({theme:s,isSelected:d,onClick:r,onCustomize:x}){const n=s.colors||{},m=n["--bg-dark"]||"#1a1d21",p=n["--bg-medium"]||"#22262b",l=n["--bg-light"]||"#2a2f36",u=n["--primary"]||"#5d8aa8",b=n["--accent1"]||"#6b9e9e",z=n["--accent2"]||"#7a8f7a",y=n["--text-primary"]||"#e2e6ea",S=n["--status-available"]||n["--success"]||"#6b9e78",C=n["--status-needs-attention"]||n["--warning"]||"#b58f6b",R=n["--status-missing"]||n["--danger"]||"#9e6b6b",j=s.isCustom,g=j&&Object.keys(n).length>0;return e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsxs("button",{onClick:r,style:{display:"flex",flexDirection:"column",padding:0,background:i.bgMedium,border:d?`2px solid ${i.primary}`:`1px solid ${i.borderLight}`,borderRadius:a.lg,overflow:"hidden",cursor:"pointer",transition:"all 150ms ease",boxShadow:d?`0 0 0 3px ${$(i.primary,30)}`:"none"},children:[e.jsxs("div",{style:{width:"100%",height:80,position:"relative",background:s.isRandom?"linear-gradient(135deg, #ff006e, #00f5d4, #fee440, #9b5de5)":j&&!g?"linear-gradient(135deg, #667eea, #764ba2, #f093fb)":m},children:[s.isRandom?e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(G,{size:32,color:"white",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"}})}):j&&!g?e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Y,{size:32,color:"white",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"}})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"absolute",top:8,left:8,right:"50%",bottom:40,background:p,borderRadius:a.sm}}),e.jsx("div",{style:{position:"absolute",top:8,left:"52%",right:8,bottom:40,background:l,borderRadius:a.sm}}),e.jsx("div",{style:{position:"absolute",bottom:24,left:8,right:8,height:12,background:u,borderRadius:a.sm}}),e.jsxs("div",{style:{position:"absolute",bottom:8,left:8,display:"flex",gap:4},children:[e.jsx("div",{style:{width:12,height:12,borderRadius:"50%",background:b}}),e.jsx("div",{style:{width:12,height:12,borderRadius:"50%",background:z}}),e.jsx("div",{style:{width:12,height:12,borderRadius:"50%",background:S}}),e.jsx("div",{style:{width:12,height:12,borderRadius:"50%",background:C}}),e.jsx("div",{style:{width:12,height:12,borderRadius:"50%",background:R}})]}),e.jsxs("div",{style:{position:"absolute",bottom:8,right:8,display:"flex",flexDirection:"column",gap:2,alignItems:"flex-end"},children:[e.jsx("div",{style:{width:40,height:4,background:y,borderRadius:2,opacity:.9}}),e.jsx("div",{style:{width:28,height:3,background:y,borderRadius:2,opacity:.5}})]})]}),d&&e.jsx("div",{style:{position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",background:i.primary,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(E,{size:14,color:"white"})})]}),e.jsxs("div",{style:{padding:t[3],textAlign:"left",borderTop:`1px solid ${i.borderLight}`},children:[e.jsx("div",{style:{fontSize:o.fontSize.sm,fontWeight:o.fontWeight.medium,color:i.textPrimary,marginBottom:2},children:s.name}),e.jsx("div",{style:{fontSize:o.fontSize.xs,color:i.textMuted,lineHeight:1.3},children:s.description})]})]}),j&&e.jsxs("button",{onClick:f=>{f.stopPropagation(),x?.()},style:{marginTop:t[2],padding:`${t[2]}px ${t[3]}px`,background:i.bgLight,border:`1px solid ${i.border}`,borderRadius:a.md,color:i.textPrimary,fontSize:o.fontSize.sm,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:t[2]},children:[e.jsx(q,{size:14}),"Customize Colors"]})]})});function te({onBack:h}){const{themeId:s,setTheme:d,updateCustomTheme:r,availableThemes:x}=D(),[n,m]=c.useState(!1),p=l=>{r(l),d("custom"),m(!1)};return n?e.jsx(Q,{onBack:()=>m(!1),onSave:p,existingTheme:x.find(l=>l.id==="custom")}):e.jsxs(e.Fragment,{children:[e.jsx(I,{onClick:h,children:"Back to Dashboard"}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:t[3],marginBottom:t[6]},children:[e.jsx("div",{style:{width:48,height:48,borderRadius:a.lg,background:`${$(i.primary,15)}`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(P,{size:24,color:i.primary})}),e.jsxs("div",{children:[e.jsx("h2",{style:{margin:0,color:i.textPrimary},children:"Theme Selector"}),e.jsx("p",{style:{margin:`${t[1]}px 0 0`,color:i.textMuted,fontSize:o.fontSize.sm},children:"Choose a visual theme for the application. Your selection is saved automatically."})]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:t[4]},children:x.map(l=>e.jsx(ee,{theme:l,isSelected:s===l.id,onClick:()=>d(l.id),onCustomize:l.isCustom?()=>m(!0):void 0},l.id))}),e.jsx(v,{style:{marginTop:t[6],maxWidth:500},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t[3]},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:a.md,background:i.primary,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(E,{size:20,color:"white"})}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:o.fontSize.sm,fontWeight:o.fontWeight.medium,color:i.textPrimary},children:["Current Theme: ",x.find(l=>l.id===s)?.name||"Unknown"]}),e.jsx("div",{style:{fontSize:o.fontSize.xs,color:i.textMuted},children:x.find(l=>l.id===s)?.description||""})]})]})})]})}const oe=c.memo(te);export{oe as default};
//# sourceMappingURL=ThemeSelector-8fyjr44D.js.map
