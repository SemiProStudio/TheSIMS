import{j as e,P as A,B as r,a as n,C as g,i as j,c as t,w as m,t as i,f as k,V as u,J as l}from"./index-TtmnPN12.js";import{a as S,D as x,c as M,E as v,W as E,d as w,Y as B,Z as T,x as P}from"./vendor-icons-B6HpBdFH.js";import"./vendor-react-DwPMHwnM.js";const O=S.memo(function({inventory:d,clients:p=[],onExport:a,onBack:I,setCurrentView:h}){const z=d.filter(s=>s.status==="needs-attention"),b=d.reduce((s,o)=>s+(o.currentValue||0),0),W=d.reduce((s,o)=>s+o.checkoutCount,0),C=S.useMemo(()=>{const s={};d.forEach(c=>{(c.reservations||[]).forEach(f=>{f.clientId&&(s[f.clientId]=(s[f.clientId]||0)+1)})});const o=p.length>0?p.reduce((c,f)=>(s[f.id]||0)>(s[c?.id]||0)?f:c,p[0]):null;return{total:p.length,withReservations:Object.keys(s).length,topClient:o,topClientCount:o&&s[o.id]||0}},[p,d]),R=S.useMemo(()=>({total:d.reduce((s,o)=>s+(o.maintenanceHistory?.length||0),0),pending:d.reduce((s,o)=>s+(o.maintenanceHistory?.filter(c=>c.status==="scheduled"||c.status==="in-progress").length||0),0)}),[d]),y={display:"flex",gap:n[2]};return e.jsxs(e.Fragment,{children:[e.jsx(A,{title:"Reports",subtitle:"Overview of inventory, clients, and activity",onBack:I,backLabel:"Back to Dashboard",action:e.jsx(r,{onClick:a,icon:x,children:"Export All"})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:n[4]},children:[e.jsxs(g,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:n[3],marginBottom:n[4]},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:j.md,background:`${m(t.primary,15)}`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(M,{size:20,color:t.primary})}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:0,color:t.textPrimary},children:"Inventory Summary"}),e.jsx("p",{style:{margin:`${n[1]}px 0 0`,fontSize:i.fontSize.xs,color:t.textMuted},children:"Total items and value"})]})]}),e.jsxs("div",{style:{display:"flex",gap:n[4],marginBottom:n[4]},children:[e.jsxs("div",{style:{textAlign:"center",flex:1},children:[e.jsx("div",{style:{fontSize:i.fontSize["2xl"],fontWeight:i.fontWeight.bold,color:t.primary},children:d.length}),e.jsx("div",{style:{fontSize:i.fontSize.xs,color:t.textMuted},children:"Total Items"})]}),e.jsxs("div",{style:{textAlign:"center",flex:1},children:[e.jsx("div",{style:{fontSize:i.fontSize["2xl"],fontWeight:i.fontWeight.bold,color:t.available},children:k(b)}),e.jsx("div",{style:{fontSize:i.fontSize.xs,color:t.textMuted},children:"Total Value"})]})]}),e.jsxs("div",{style:y,children:[e.jsx(r,{variant:"secondary",style:{flex:1},onClick:()=>h(u.GEAR_LIST),icon:v,children:"View"}),e.jsx(r,{variant:"secondary",style:{flex:1},onClick:a,icon:x,children:"Export"})]})]}),e.jsxs(g,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:n[3],marginBottom:n[4]},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:j.md,background:`${m(t.accent1,15)}`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(E,{size:20,color:t.accent1})}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:0,color:t.textPrimary},children:"Activity"}),e.jsx("p",{style:{margin:`${n[1]}px 0 0`,fontSize:i.fontSize.xs,color:t.textMuted},children:"Checkout statistics"})]})]}),e.jsxs("div",{style:{textAlign:"center",marginBottom:n[4]},children:[e.jsx("div",{style:{fontSize:i.fontSize["2xl"],fontWeight:i.fontWeight.bold,color:t.accent1},children:W}),e.jsx("div",{style:{fontSize:i.fontSize.xs,color:t.textMuted},children:"Total Checkouts"})]}),e.jsxs("div",{style:y,children:[e.jsx(r,{variant:"secondary",style:{flex:1},onClick:()=>h(u.SCHEDULE),icon:v,children:"View"}),e.jsx(r,{variant:"secondary",style:{flex:1},onClick:a,icon:x,children:"Export"})]})]}),e.jsxs(g,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:n[3],marginBottom:n[4]},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:j.md,background:`${m(t.danger,15)}`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(w,{size:20,color:t.danger})}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:0,color:t.textPrimary},children:"Alerts"}),e.jsx("p",{style:{margin:`${n[1]}px 0 0`,fontSize:i.fontSize.xs,color:t.textMuted},children:"Items needing attention"})]})]}),e.jsxs("div",{style:{textAlign:"center",marginBottom:n[4]},children:[e.jsx("div",{style:{fontSize:i.fontSize["2xl"],fontWeight:i.fontWeight.bold,color:z.length>0?t.danger:t.textMuted},children:z.length}),e.jsx("div",{style:{fontSize:i.fontSize.xs,color:t.textMuted},children:"Need Attention"})]}),e.jsxs("div",{style:y,children:[e.jsx(r,{variant:"secondary",style:{flex:1},onClick:()=>h(u.GEAR_LIST),icon:v,children:"View"}),e.jsx(r,{variant:"secondary",style:{flex:1},onClick:a,icon:x,children:"Export"})]})]}),e.jsxs(g,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:n[3],marginBottom:n[4]},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:j.md,background:`${m(t.warning,15)}`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(B,{size:20,color:t.warning})}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:0,color:t.textPrimary},children:"Maintenance Report"}),e.jsx("p",{style:{margin:`${n[1]}px 0 0`,fontSize:i.fontSize.xs,color:t.textMuted},children:"All maintenance records"})]})]}),e.jsxs("div",{style:{display:"flex",gap:n[4],marginBottom:n[4]},children:[e.jsxs("div",{style:{textAlign:"center",flex:1},children:[e.jsx("div",{style:{fontSize:i.fontSize["2xl"],fontWeight:i.fontWeight.bold,color:t.warning},children:R.total}),e.jsx("div",{style:{fontSize:i.fontSize.xs,color:t.textMuted},children:"Total Records"})]}),e.jsxs("div",{style:{textAlign:"center",flex:1},children:[e.jsx("div",{style:{fontSize:i.fontSize["2xl"],fontWeight:i.fontWeight.bold,color:t.checkedOut},children:R.pending}),e.jsx("div",{style:{fontSize:i.fontSize.xs,color:t.textMuted},children:"Pending"})]})]}),e.jsxs("div",{style:y,children:[e.jsx(r,{variant:"secondary",style:{flex:1},onClick:()=>h(u.MAINTENANCE_REPORT),icon:v,children:"View"}),e.jsx(r,{variant:"secondary",style:{flex:1},onClick:a,icon:x,children:"Export"})]})]}),e.jsxs(g,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:n[3],marginBottom:n[4]},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:j.md,background:`${m(t.available,15)}`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(T,{size:20,color:t.available})}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:0,color:t.textPrimary},children:"Insurance Report"}),e.jsx("p",{style:{margin:`${n[1]}px 0 0`,fontSize:i.fontSize.xs,color:t.textMuted},children:"Asset values for insurance"})]})]}),e.jsxs("div",{style:{textAlign:"center",marginBottom:n[4]},children:[e.jsx("div",{style:{fontSize:i.fontSize["2xl"],fontWeight:i.fontWeight.bold,color:t.available},children:k(b)}),e.jsx("div",{style:{fontSize:i.fontSize.xs,color:t.textMuted},children:"Total Insurable Value"})]}),e.jsxs("div",{style:y,children:[e.jsx(r,{variant:"secondary",style:{flex:1},onClick:()=>h(u.INSURANCE_REPORT),icon:v,children:"View"}),e.jsx(r,{variant:"secondary",style:{flex:1},onClick:a,icon:x,children:"Export"})]})]}),e.jsxs(g,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:n[3],marginBottom:n[4]},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:j.md,background:`${m(t.checkedOut,15)}`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(P,{size:20,color:t.checkedOut})}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:0,color:t.textPrimary},children:"Client Report"}),e.jsx("p",{style:{margin:`${n[1]}px 0 0`,fontSize:i.fontSize.xs,color:t.textMuted},children:"Clients by activity"})]})]}),e.jsxs("div",{style:{display:"flex",gap:n[4],marginBottom:n[4]},children:[e.jsxs("div",{style:{textAlign:"center",flex:1},children:[e.jsx("div",{style:{fontSize:i.fontSize["2xl"],fontWeight:i.fontWeight.bold,color:t.checkedOut},children:C.total}),e.jsx("div",{style:{fontSize:i.fontSize.xs,color:t.textMuted},children:"Total Clients"})]}),e.jsxs("div",{style:{textAlign:"center",flex:1},children:[e.jsx("div",{style:{fontSize:i.fontSize["2xl"],fontWeight:i.fontWeight.bold,color:t.primary},children:C.withReservations}),e.jsx("div",{style:{fontSize:i.fontSize.xs,color:t.textMuted},children:"With Projects"})]})]}),e.jsxs("div",{style:y,children:[e.jsx(r,{variant:"secondary",style:{flex:1},onClick:()=>h(u.CLIENT_REPORT),icon:v,children:"View"}),e.jsx(r,{variant:"secondary",style:{flex:1},onClick:a,icon:x,children:"Export"})]})]})]})]})});O.propTypes={inventory:l.arrayOf(l.shape({id:l.string.isRequired,status:l.string,currentValue:l.number,checkoutCount:l.number,maintenanceHistory:l.array,reservations:l.array})).isRequired,clients:l.arrayOf(l.shape({id:l.string.isRequired,name:l.string})),onExport:l.func.isRequired,onBack:l.func.isRequired,setCurrentView:l.func.isRequired};export{O as ReportsPanel};
//# sourceMappingURL=ReportsView-CKIaqg8P.js.map
