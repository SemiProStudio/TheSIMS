{"version":3,"file":"LayoutCustomize-BItJdhTS.js","sources":["../../views/LayoutCustomize.jsx"],"sourcesContent":["// ============================================================================\n// Layout Customize Page\n// Allows drag-to-reorder and visibility control for Dashboard/Item Detail sections\n// ============================================================================\n\nimport React, { memo, useState, useCallback, useRef } from 'react';\nimport { Save, Layout, RotateCcw, Eye, EyeOff, GripVertical } from 'lucide-react';\nimport { DASHBOARD_SECTIONS, ITEM_DETAIL_SECTIONS, DEFAULT_LAYOUT_PREFS } from '../constants.js';\nimport { colors, styles, spacing, borderRadius, typography, withOpacity} from '../theme.js';\nimport { Button, BackButton, Card } from '../components/ui.jsx';\n\n// Context configuration\nconst CONTEXTS = {\n  dashboard: {\n    title: 'Customize Dashboard Layout',\n    subtitle: 'Drag to reorder sections, toggle visibility. Changes are saved per user.',\n    sections: DASHBOARD_SECTIONS,\n    prefsKey: 'dashboard',\n    backLabel: 'Back to Dashboard',\n  },\n  itemDetail: {\n    title: 'Customize Item Detail Layout',\n    subtitle: 'Drag to reorder sections, toggle visibility. Changes are saved per user.',\n    sections: ITEM_DETAIL_SECTIONS,\n    prefsKey: 'itemDetail',\n    backLabel: 'Back to Item',\n  },\n};\n\nfunction LayoutCustomize({ context = 'dashboard', layoutPrefs, onSave, onBack }) {\n  const config = CONTEXTS[context] || CONTEXTS.dashboard;\n  \n  // Initialize edit state from current prefs or defaults\n  const [editPrefs, setEditPrefs] = useState(() => {\n    const current = layoutPrefs || DEFAULT_LAYOUT_PREFS;\n    return structuredClone(current);\n  });\n\n  // Track if changes were made\n  const [hasChanges, setHasChanges] = useState(false);\n\n  // Drag state\n  const [draggedId, setDraggedId] = useState(null);\n  const [dragOverId, setDragOverId] = useState(null);\n  const dragNodeRef = useRef(null);\n\n  // Get sections sorted by their current order\n  const getSortedSections = useCallback(() => {\n    const sectionPrefs = editPrefs[config.prefsKey]?.sections || {};\n    return Object.values(config.sections)\n      .map(section => ({\n        ...section,\n        visible: sectionPrefs[section.id]?.visible !== false,\n        collapsed: sectionPrefs[section.id]?.collapsed || false,\n        order: sectionPrefs[section.id]?.order ?? section.order,\n      }))\n      .sort((a, b) => a.order - b.order);\n  }, [editPrefs, config]);\n\n  const sortedSections = getSortedSections();\n\n  // Toggle visibility\n  const toggleVisibility = useCallback((sectionId) => {\n    setEditPrefs(prev => {\n      const newPrefs = structuredClone(prev);\n      if (!newPrefs[config.prefsKey]) newPrefs[config.prefsKey] = { sections: {} };\n      if (!newPrefs[config.prefsKey].sections) newPrefs[config.prefsKey].sections = {};\n      if (!newPrefs[config.prefsKey].sections[sectionId]) {\n        newPrefs[config.prefsKey].sections[sectionId] = { visible: true, collapsed: false, order: 0 };\n      }\n      newPrefs[config.prefsKey].sections[sectionId].visible = \n        !newPrefs[config.prefsKey].sections[sectionId].visible;\n      return newPrefs;\n    });\n    setHasChanges(true);\n  }, [config.prefsKey]);\n\n  // Drag handlers\n  const handleDragStart = useCallback((e, sectionId) => {\n    setDraggedId(sectionId);\n    dragNodeRef.current = e.target;\n    \n    // Set drag image (optional - makes it look nicer)\n    if (e.dataTransfer) {\n      e.dataTransfer.effectAllowed = 'move';\n      e.dataTransfer.setData('text/plain', sectionId);\n    }\n    \n    // Add dragging class after a short delay to avoid flash\n    setTimeout(() => {\n      if (dragNodeRef.current) {\n        dragNodeRef.current.style.opacity = '0.5';\n      }\n    }, 0);\n  }, []);\n\n  const handleDragEnd = useCallback(() => {\n    if (dragNodeRef.current) {\n      dragNodeRef.current.style.opacity = '1';\n    }\n    setDraggedId(null);\n    setDragOverId(null);\n    dragNodeRef.current = null;\n  }, []);\n\n  const handleDragOver = useCallback((e, sectionId) => {\n    e.preventDefault();\n    if (draggedId && sectionId !== draggedId) {\n      setDragOverId(sectionId);\n    }\n  }, [draggedId]);\n\n  const handleDragLeave = useCallback(() => {\n    setDragOverId(null);\n  }, []);\n\n  const handleDrop = useCallback((e, targetId) => {\n    e.preventDefault();\n    \n    if (!draggedId || draggedId === targetId) {\n      setDragOverId(null);\n      return;\n    }\n\n    setEditPrefs(prev => {\n      const newPrefs = structuredClone(prev);\n      if (!newPrefs[config.prefsKey]) newPrefs[config.prefsKey] = { sections: {} };\n      if (!newPrefs[config.prefsKey].sections) newPrefs[config.prefsKey].sections = {};\n      \n      // Get current sorted list\n      const sections = Object.values(config.sections)\n        .map(s => ({\n          id: s.id,\n          order: newPrefs[config.prefsKey].sections[s.id]?.order ?? s.order,\n        }))\n        .sort((a, b) => a.order - b.order);\n      \n      // Find indices\n      const draggedIndex = sections.findIndex(s => s.id === draggedId);\n      const targetIndex = sections.findIndex(s => s.id === targetId);\n      \n      if (draggedIndex === -1 || targetIndex === -1) return prev;\n      \n      // Remove dragged item and insert at target position\n      const [draggedItem] = sections.splice(draggedIndex, 1);\n      sections.splice(targetIndex, 0, draggedItem);\n      \n      // Reassign orders based on new positions\n      sections.forEach((section, index) => {\n        if (!newPrefs[config.prefsKey].sections[section.id]) {\n          newPrefs[config.prefsKey].sections[section.id] = { visible: true, collapsed: false, order: index };\n        } else {\n          newPrefs[config.prefsKey].sections[section.id].order = index;\n        }\n      });\n      \n      return newPrefs;\n    });\n\n    setDragOverId(null);\n    setHasChanges(true);\n  }, [draggedId, config]);\n\n  // Reset to defaults\n  const resetToDefaults = useCallback(() => {\n    setEditPrefs(prev => ({\n      ...prev,\n      [config.prefsKey]: structuredClone(DEFAULT_LAYOUT_PREFS[config.prefsKey]),\n    }));\n    setHasChanges(true);\n  }, [config.prefsKey]);\n\n  // Save and go back\n  const handleSave = useCallback(() => {\n    onSave(editPrefs);\n    onBack();\n  }, [editPrefs, onSave, onBack]);\n\n  return (\n    <div style={{ \n      maxWidth: 700, \n      margin: '0 auto',\n      padding: spacing[4],\n    }}>\n      <BackButton onClick={onBack}>{config.backLabel}</BackButton>\n      \n      {/* Header */}\n      <div style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'flex-start',\n        marginBottom: spacing[6],\n      }}>\n        <div style={{ display: 'flex', alignItems: 'flex-start', gap: spacing[3] }}>\n          <div style={{\n            width: 48,\n            height: 48,\n            borderRadius: borderRadius.lg,\n            background: `${withOpacity(colors.primary, 15)}`,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            flexShrink: 0,\n          }}>\n            <Layout size={24} color={colors.primary} />\n          </div>\n          <div>\n            <h2 style={{ margin: 0, color: colors.textPrimary }}>\n              {config.title}\n            </h2>\n            <p style={{ margin: `${spacing[1]}px 0 0`, color: colors.textMuted, fontSize: typography.fontSize.sm }}>\n              {config.subtitle}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Section List */}\n      <Card>\n        <div style={{\n          border: `1px solid ${colors.borderLight}`,\n          borderRadius: borderRadius.md,\n          overflow: 'hidden',\n        }}>\n          {sortedSections.map((section, index) => (\n            <div\n              key={section.id}\n              draggable\n              onDragStart={(e) => handleDragStart(e, section.id)}\n              onDragEnd={handleDragEnd}\n              onDragOver={(e) => handleDragOver(e, section.id)}\n              onDragLeave={handleDragLeave}\n              onDrop={(e) => handleDrop(e, section.id)}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: spacing[2],\n                padding: `${spacing[3]}px ${spacing[3]}px`,\n                borderBottom: index < sortedSections.length - 1 ? `1px solid ${colors.borderLight}` : 'none',\n                background: dragOverId === section.id \n                  ? `${withOpacity(colors.primary, 20)}` \n                  : section.visible \n                    ? 'transparent' \n                    : `${withOpacity(colors.textMuted, 8)}`,\n                transition: 'background 150ms ease',\n                cursor: 'grab',\n                userSelect: 'none',\n                borderTop: dragOverId === section.id ? `2px solid ${colors.primary}` : '2px solid transparent',\n              }}\n            >\n              {/* Grip handle */}\n              <div style={{ \n                display: 'flex', \n                alignItems: 'center',\n                color: colors.textMuted,\n                cursor: 'grab',\n              }}>\n                <GripVertical size={18} />\n              </div>\n\n              {/* Section name */}\n              <span style={{\n                flex: 1,\n                color: section.visible ? colors.textPrimary : colors.textMuted,\n                fontSize: typography.fontSize.sm,\n                textDecoration: section.visible ? 'none' : 'line-through',\n              }}>\n                {section.label}\n              </span>\n\n              {/* Visibility toggle */}\n              <button\n                onClick={(e) => { e.stopPropagation(); toggleVisibility(section.id); }}\n                onMouseDown={(e) => e.stopPropagation()}\n                draggable={false}\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  width: 32,\n                  height: 32,\n                  background: section.visible ? `${withOpacity(colors.primary, 15)}` : colors.bgLight,\n                  border: `1px solid ${section.visible ? colors.primary : colors.borderLight}`,\n                  borderRadius: borderRadius.md,\n                  color: section.visible ? colors.primary : colors.textMuted,\n                  cursor: 'pointer',\n                  transition: 'all 150ms ease',\n                }}\n                title={section.visible ? 'Hide section' : 'Show section'}\n              >\n                {section.visible ? <Eye size={16} /> : <EyeOff size={16} />}\n              </button>\n            </div>\n          ))}\n        </div>\n        \n        <p style={{ \n          margin: `${spacing[4]}px 0 0`, \n          color: colors.textMuted, \n          fontSize: typography.fontSize.xs,\n        }}>\n          Tip: You can also click any section header to collapse/expand it inline.\n        </p>\n      </Card>\n\n      {/* Actions */}\n      <div style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginTop: spacing[6],\n      }}>\n        <Button\n          variant=\"secondary\"\n          onClick={resetToDefaults}\n          icon={RotateCcw}\n        >\n          Reset to Defaults\n        </Button>\n        <div style={{ display: 'flex', gap: spacing[2] }}>\n          <Button variant=\"secondary\" onClick={onBack}>Cancel</Button>\n          <Button onClick={handleSave} icon={Save}>\n            {hasChanges ? 'Save Changes' : 'Save'}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(LayoutCustomize);\n"],"names":["CONTEXTS","DASHBOARD_SECTIONS","ITEM_DETAIL_SECTIONS","LayoutCustomize","context","layoutPrefs","onSave","onBack","config","editPrefs","setEditPrefs","useState","current","DEFAULT_LAYOUT_PREFS","hasChanges","setHasChanges","draggedId","setDraggedId","dragOverId","setDragOverId","dragNodeRef","useRef","sortedSections","useCallback","sectionPrefs","section","b","toggleVisibility","sectionId","prev","newPrefs","handleDragStart","handleDragEnd","handleDragOver","handleDragLeave","handleDrop","targetId","sections","s","a","draggedIndex","targetIndex","draggedItem","index","resetToDefaults","handleSave","jsxs","spacing","jsx","BackButton","borderRadius","withOpacity","colors","Layout","typography","Card","e","GripVertical","Eye","EyeOff","Button","RotateCcw","Save","LayoutCustomize_default","memo"],"mappings":"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"}