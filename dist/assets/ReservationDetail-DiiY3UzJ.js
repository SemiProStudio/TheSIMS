import{n as B,j as e,c as t,a as i,s as j,C as x,d as a,t as r,B as u,i as n,m as S,w as d,h as z,g as w,N as C}from"./index-TtmnPN12.js";import{a as P,A as R,j as D,T as E,k as W,U as T,l as I,M as N,c as b,F as q,m as O,n as U}from"./vendor-icons-B6HpBdFH.js";import"./vendor-react-DwPMHwnM.js";const A=P.memo(function({location:l}){if(!l)return e.jsxs("div",{style:{width:"100%",height:200,background:`${d(t.primary,10)}`,borderRadius:n.xl,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:`1px solid ${t.border}`},children:[e.jsx(U,{size:32,color:t.textMuted}),e.jsx("p",{style:{color:t.textMuted,fontSize:r.fontSize.sm,marginTop:i[2]},children:"No location specified"})]});const p=encodeURIComponent(l),m=`https://www.google.com/maps/search/?api=1&query=${p}`,g=`https://maps.apple.com/?q=${p}`,h=`https://www.google.com/maps?q=${p}&output=embed`;return e.jsxs("div",{style:{width:"100%",borderRadius:n.xl,overflow:"hidden",border:`1px solid ${t.border}`},children:[e.jsx("div",{style:{width:"100%",height:200,background:t.bgLight,position:"relative"},children:e.jsx("iframe",{src:h,style:{width:"100%",height:"100%",border:"none"},title:"Location Map",loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade"})}),e.jsxs("div",{style:{padding:i[3],background:t.bgMedium,display:"flex",gap:i[2]},children:[e.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",style:{...j.btnSec,flex:1,textDecoration:"none",textAlign:"center",justifyContent:"center",fontSize:r.fontSize.sm},children:"Open in Google Maps"}),e.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",style:{...j.btnSec,flex:1,textDecoration:"none",textAlign:"center",justifyContent:"center",fontSize:r.fontSize.sm},children:"Open in Apple Maps"})]})]})});function F({reservation:s,item:l,onBack:p,onEdit:m,onDelete:g,onAddNote:h,onReplyNote:k,onDeleteNote:$,user:v,onViewItem:y}){if(!s||!l)return null;const M=s.items||[l],c=s.itemCount||1,f=s.dueBack&&s.dueBack<B()&&l.status==="checked-out";return e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:p,style:{...j.btnSec,marginBottom:i[5],border:"none",background:"none",padding:0,color:t.textSecondary},children:[e.jsx(R,{size:18})," Back"]}),e.jsxs("div",{className:"responsive-two-col",style:{display:"grid",gap:i[6]},children:[e.jsxs("div",{children:[e.jsxs(x,{style:{marginBottom:i[5]},children:[e.jsxs("div",{style:{display:"flex",gap:i[2],marginBottom:i[3],flexWrap:"wrap"},children:[c>1?e.jsx(a,{text:`${c} items`,color:t.primary}):e.jsx(a,{text:l.id,color:t.primary}),e.jsx(a,{text:s.projectType||"Project",color:t.accent2}),f&&e.jsx(a,{text:"OVERDUE",color:t.danger})]}),e.jsx("h1",{style:{margin:`0 0 ${i[2]}px`,fontSize:r.fontSize["3xl"],color:t.textPrimary},children:s.project}),e.jsx("p",{style:{color:t.textSecondary,margin:`0 0 ${i[4]}px`},children:c>1?`${c} items reserved`:`${l.name} - ${l.brand}`}),e.jsxs("div",{style:{display:"flex",gap:i[3]},children:[e.jsx(u,{variant:"secondary",onClick:m,icon:D,children:"Edit Reservation"}),e.jsx(u,{variant:"secondary",danger:!0,onClick:g,icon:E,children:"Cancel"})]})]}),e.jsxs(x,{style:{marginBottom:i[5]},children:[e.jsxs("h3",{style:{margin:`0 0 ${i[4]}px`,fontSize:r.fontSize.md,color:t.textPrimary,display:"flex",alignItems:"center",gap:i[2]},children:[e.jsx(W,{size:16})," Schedule & Location"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:i[4],marginBottom:i[5]},children:[e.jsxs("div",{style:{background:`${d(t.primary,10)}`,padding:i[4],borderRadius:n.lg},children:[e.jsx("div",{style:{fontSize:r.fontSize.xs,color:t.textMuted,textTransform:"uppercase",marginBottom:i[1]},children:"Start Date"}),e.jsx("div",{style:{fontSize:r.fontSize.md,fontWeight:r.fontWeight.medium,color:t.textPrimary},children:S(s.start)})]}),e.jsxs("div",{style:{background:`${d(t.primary,10)}`,padding:i[4],borderRadius:n.lg},children:[e.jsx("div",{style:{fontSize:r.fontSize.xs,color:t.textMuted,textTransform:"uppercase",marginBottom:i[1]},children:"End Date / Due Back"}),e.jsxs("div",{style:{fontSize:r.fontSize.md,fontWeight:r.fontWeight.medium,color:f?t.danger:t.textPrimary},children:[S(s.end||s.dueBack),f&&" (OVERDUE)"]})]})]}),e.jsx(A,{location:s.location})]}),e.jsxs(x,{children:[e.jsxs("h3",{style:{margin:`0 0 ${i[4]}px`,fontSize:r.fontSize.md,color:t.textPrimary,display:"flex",alignItems:"center",gap:i[2]},children:[e.jsx(T,{size:16})," Contact Information"]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:i[3]},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:i[3]},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:n.md,background:`linear-gradient(135deg, ${t.primary}, ${t.accent1})`,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:r.fontWeight.semibold,color:t.textPrimary},children:s.user?.charAt(0)||"?"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:r.fontWeight.medium,color:t.textPrimary},children:s.user}),e.jsx("div",{style:{fontSize:r.fontSize.sm,color:t.textMuted},children:"Reserved By"})]})]}),s.contactPhone&&e.jsxs("a",{href:`tel:${s.contactPhone}`,style:{display:"flex",alignItems:"center",gap:i[3],padding:i[3],background:`${d(t.primary,8)}`,borderRadius:n.lg,color:t.textPrimary,textDecoration:"none"},children:[e.jsx(I,{size:18,color:t.primary}),e.jsx("span",{children:s.contactPhone})]}),s.contactEmail&&e.jsxs("a",{href:`mailto:${s.contactEmail}`,style:{display:"flex",alignItems:"center",gap:i[3],padding:i[3],background:`${d(t.primary,8)}`,borderRadius:n.lg,color:t.textPrimary,textDecoration:"none"},children:[e.jsx(N,{size:18,color:t.primary}),e.jsx("span",{children:s.contactEmail})]}),!s.contactPhone&&!s.contactEmail&&e.jsx("p",{style:{color:t.textMuted,fontSize:r.fontSize.sm},children:"No contact information provided"})]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:i[4]},children:[e.jsxs(x,{padding:!1,children:[e.jsx(z,{title:c>1?`Equipment (${c})`:"Equipment",icon:b}),e.jsx("div",{style:{padding:i[4],display:"flex",flexDirection:"column",gap:i[3]},children:M.map((o,L)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:i[3],padding:i[3],background:d(t.primary,8),borderRadius:n.lg,cursor:y?"pointer":"default"},onClick:()=>y&&y(o.id),children:[o.image?e.jsx("img",{src:o.image,alt:"",style:{width:60,height:60,objectFit:"cover",borderRadius:n.md}}):e.jsx("div",{style:{width:60,height:60,background:d(t.primary,15),borderRadius:n.md,display:"flex",alignItems:"center",justifyContent:"center",color:t.textMuted},children:e.jsx(b,{size:24})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("div",{style:{fontWeight:r.fontWeight.medium,color:t.textPrimary,marginBottom:i[1]},children:o.name}),e.jsxs("div",{style:{fontSize:r.fontSize.sm,color:t.textMuted,marginBottom:i[1]},children:[o.brand," â€¢ ",o.category]}),e.jsxs("div",{style:{display:"flex",gap:i[1]},children:[e.jsx(a,{text:o.id,color:t.primary,size:"sm"}),e.jsx(a,{text:o.status,color:w(o.status),size:"sm"})]})]})]},o.id))})]}),e.jsxs(x,{padding:!1,children:[e.jsx(z,{title:"Project Details",icon:q}),e.jsxs("div",{style:{padding:i[4]},children:[e.jsxs("div",{style:{marginBottom:i[3]},children:[e.jsx("div",{style:{fontSize:r.fontSize.xs,color:t.textMuted,textTransform:"uppercase",marginBottom:i[1]},children:"Project Type"}),e.jsx("div",{style:{fontSize:r.fontSize.base,color:t.textPrimary},children:s.projectType||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:r.fontSize.xs,color:t.textMuted,textTransform:"uppercase",marginBottom:i[1]},children:"Project Name"}),e.jsx("div",{style:{fontSize:r.fontSize.base,color:t.textPrimary},children:s.project})]})]})]}),e.jsxs(x,{children:[e.jsxs("h3",{style:{margin:`0 0 ${i[4]}px`,fontSize:r.fontSize.md,color:t.textPrimary,display:"flex",alignItems:"center",gap:i[2]},children:[e.jsx(O,{size:16})," Notes",(s.notes||[]).filter(o=>!o.deleted).length>0&&e.jsx(a,{text:`${(s.notes||[]).filter(o=>!o.deleted).length}`,color:t.primary,size:"xs"})]}),e.jsx(C,{notes:s.notes||[],onAddNote:h,onReply:k,onDelete:$,user:v})]})]})]})]})}const J=P.memo(F);export{J as default};
//# sourceMappingURL=ReservationDetail-DiiY3UzJ.js.map
